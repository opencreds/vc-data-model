<!DOCTYPE html>
<html>
  <head>
    <title>Verifiable Credentials Data Model 1.0</title>
    <meta http-equiv='Content-Type' content='text/html;charset=utf-8'/>
    <!--
      === NOTA BENE ===
      For the three scripts below, if your spec resides on dev.w3 you can check them
      out in the same tree and use relative links so that they'll work offline,
     -->
    <script src='https://www.w3.org/Tools/respec/respec-w3c-common' class='remove'></script>
    <script src="./common.js" class="remove"></script>
    <script type="text/javascript" class="remove">
      var respecConfig = {
        // specification status (e.g., WD, LCWD, NOTE, etc.). If in doubt use ED.
        specStatus: "ED",

        // the specification's short name, as in http://www.w3.org/TR/short-name/
        shortName: "vc-data-model",

        // subtitle for the spec
        subtitle: "Expressing verifiable information on the Web",

        // if you wish the publication date to be other than today, set this
        //publishDate:  "2017-08-03",

        // if there is a previously published draft, uncomment this and set its YYYY-MM-DD date
        // and its maturity status
        // previousPublishDate:  "1977-03-15",
        // previousMaturity:  "WD",

        // extend the bibliography entries
        localBiblio: vcwg.localBiblio,
        doJsonLd: true,

        github: "https://github.com/w3c/vc-data-model/",
        includePermalinks: false,

        // if there a publicly available Editor's Draft, this is the link
        edDraftURI: "https://w3c.github.io/vc-data-model/",

        // if this is a LCWD, uncomment and set the end of its review period
        // lcEnd: "2009-08-05",

        // editors, add as many as you like
        // only "name" is required
        editors:  [
          { name: "Manu Sporny", url: "http://manu.sporny.org/",
            company: "Digital Bazaar", companyURL: "http://digitalbazaar.com/" },
          { name: "Daniel C. Burnett", url: "https://www.linkedin.com/in/daburnett/",
            company: "Invited Expert", companyURL: "https://www.linkedin.com/in/daburnett/"},
          { name: "Dave Longley", url: "https://github.com/dlongley",
            company: "Digital Bazaar", companyURL: "http://digitalbazaar.com/"},
          { name: "Gregg Kellogg", url: "http://greggkellogg.net/",
            company: "Spec-Ops", companyURL: "https://spec-ops.io/",
            w3cid: "44770" }
        ],
        // authors, add as many as you like.
        // This is optional, uncomment if you have authors as well as editors.
        // only "name" is required. Same format as editors.
        authors:
        [
          { name: "Manu Sporny", url: "http://digitalbazaar.com/",
            company: "Digital Bazaar", companyURL: "http://digitalbazaar.com/" },
          { name: "Dave Longley", url: "http://digitalbazaar.com/",
            company: "Digital Bazaar", companyURL: "http://digitalbazaar.com/"}
        ],
        // name of the WG
        wg:           "Verifiable Claims Working Group",

        // URI of the public WG page
        wgURI:        "https://www.w3.org/2017/vc/",

        // name (with the @w3c.org) of the public mailing to which comments are due
        wgPublicList: "public-vc-comments",

        // URI of the patent status for this WG, for Rec-track documents
        // !!!! IMPORTANT !!!!
        // This is important for Rec-track documents, do not copy a patent URI from a random
        // document unless you know what you're doing. If in doubt ask your friendly neighbourhood
        // Team Contact.
        wgPatentURI:  "https://www.w3.org/2004/01/pp-impl/98922/status",
        maxTocLevel: 2,
        inlineCSS: true
      };
    </script>
    <style>
pre .highlight {
  font-weight: bold;
  color: green;
}
pre .subject {
  font-weight: bold;
  color: RoyalBlue;
}
pre .property {
  font-weight: bold;
  color: DarkGoldenrod;
}
pre .comment {
  font-weight: bold;
  color: Gray;
}
</style>
  </head>
  <body>
    <section id='abstract'>
      <p>
Credentials are a part of our daily lives;
driver's licenses are used to assert that we are capable of operating a motor
vehicle, university degrees can be used to assert our level of education, and
government-issued passports enable holders to travel between countries.
This specification provides a mechanism to express these sorts of
credentials on the Web in a way that is cryptographically secure,
privacy respecting, and machine verifiable.
      </p>
    </section>

    <section id='sotd'>
      <p>
Comments regarding this document are welcome. Please file issues
directly on <a href="https://github.com/w3c/vc-data-model/issues/">GitHub</a>,
or send them to
<a href="mailto:public-vc-comments@w3.org">public-vc-comments@w3.org</a>
(<a href="mailto:public-vc-comments-request@w3.org?subject=subscribe">subscribe</a>,
<a href="https://lists.w3.org/Archives/Public/public-vc-comments/">archives</a>).
      </p>

        <p class="issue" data-number=200>
There remain a list of terminology-related editorial issues that need to be
processed in this document.
        </p>

        <p class="issue" data-number=201>
There remain a list of editorial issues that need to be processed in this
document.
        </p>

    </section>

    <section>
      <h2>Introduction</h2>

      <em>This section is non-normative.</em>

      <p>
Credentials are a part of our daily lives; driver's licenses are used to
assert that we are capable of operating a motor vehicle, university degrees
can be used to assert our level of education, and government-issued passports
enable us to travel between countries. These credentials provide benefits
to us when used in the physical world, but their use on the Web continues to
be elusive.
      </p>

      <p>
It is currently difficult to express banking account information,
education qualifications, healthcare data, and other sorts of machine-readable
personal information that was verified by a third-party on the Web and this
makes it difficult to receive the same benefits from the Web that physical
credentials provide us in the physical world.
      </p>

      <p>
This specification provides a standard way to express credentials on the
Web in a way that is cryptographically secure, privacy-respecting,
and machine-verifiable.
      </p>
      <p>
For those who are unfamiliar with the concepts related to verifiable
credentials, the following sections provide an overview of:
      </p>
      <ul>
        <li>
The components that constitute a <a>verifiable credential</a>
        </li>
        <li>
The components that constitute a <a>verifiable presentation</a>
        </li>
        <li>
An ecosystem where verifiable credentials and verifiable presentations are
expected to be useful
        </li>
        <li>
The use cases and requirements that informed this specification.
        </li>
      </ul>
      </p>

    <section>
      <h3>What is a Verifiable Credential?</h3>

      <p>
In the physical world, a credential might consist of:
      </p>

      <ul>
        <li>
Information related to the subject of the credential (for example, a photo,
name, and identification number)
        </li>
        <li>
Information related to the issuing authority (for example, a city government,
national agency, or certification body)
        </li>
        <li>
Evidence related to how the credential was derived
        </li>
        <li>
Information related to expiration dates.
        </li>
      </ul>

      <p>
A verifiable credential can represent all of the same information that a
physical credential represents. The addition of technologies such as
digital signatures makes verifiable credentials more tamper-evident and
therefore more trustworthy than their physical counterparts. Holders can
generate presentations and share them with verifiers to prove they possess
verifiable credentials with certain characteristics. Both credentials and
presentations can be rapidly transmitted, making them more convenient than
their physical counterparts when establishing trust at a distance.
      </p>
      <p>
The persistence of digital information, and the ease with which disparate
sources of digital data can be collected and correlated, comprise a privacy
concern that the use of verifiable and easily machine-readable credentials
threatens to make worse. A <a href="#privacy-considerations">Privacy Considerations</a>
section addresses these issues. Items of particular concern in this
specification are noted in the text. Examples of how to use this data model
using privacy-enhancing technologies, such as zero-knowledge proofs, are also
provided.
      </p>
    </section>
    <section>
      <h3>Ecosystem Overview</h3>

      <em>This section is non-normative.</em>

      <p>
This section outlines a basic set of roles and an ecosystem where verifiable
credentials are expected to be useful. In this section, we describe the
essential roles of the core actors and the relationships between them; how do
they interact? A role is an abstraction that might be implemented in many
different ways. The separation of roles suggests likely interfaces and
protocols for standardization. The following roles are introduced in this
specification:
      </p>

      <dl>
        <dt><a>holder</a></dt>
        <dd>
A role an <a>entity</a> might perform by possessing one or more
<a>verifiable credentials</a> and generating <a>presentations</a> from them.
Examples of holders include students, employees, and customers.
        </dd>
        <dt><a>issuer</a></dt>
        <dd>
A role an <a>entity</a> might perform by creating a
<a>verifiable credential</a>, associating it with a specific <a>subject</a>,
and transmitting it to a <a>holder</a>. Examples of issuers include
corporations, non-profit organizations, trade associations, governments, and
individuals.
        </dd>
        <dt><a>verifier</a></dt>
        <dd>
A role an <a>entity</a> might perform by requesting and receiving a
<a>verifiable presentation</a> that proves the holder possesses the required
<a>verifiable credentials</a> with certain characteristics. Examples of
verifiers include employers, security personnel, and websites.
        </dd>
        <dt><a>identifier registry</a></dt>
        <dd>
A role a system might perform by mediating the creation and verification of
<a>issuer</a> identifiers, keys, and other relevant data required to use
<a>verifiable credentials</a>. Some configurations might require correlatable
identifiers for <a>subjects</a>. Examples of such data repositories include
trusted databases, decentralized databases, government ID databases, and
distributed ledgers.
        </dd>
      </dl>

      <figure>
        <img style="margin: auto; display: block;" width="75%" src="diagrams/ecosystem.svg">
        <figcaption style="text-align: center;">
The roles and information flows forming the basis for this specification.
        </figcaption>
      </figure>

      <p class="note">
The ecosystem above is provided as an example to ground the rest of the
concepts in this specification. Other ecosystems exist, such as protected
environments or proprietary systems, where <a>verifiable credentials</a> also
provide benefit.
      </p>

      <p class="issue" data-number=57>
The VCWG is actively discussing the number of roles and terminology used
in this specification.
The group expects terminology and role identification to be an ongoing
discussion and will be influenced by
public feedback on the specification. At present, the following incomplete
list of roles and terminology have been considered: Subject, Issuer, Authority,
Author, Signatory, Holder, Presenter, Asserter, Claimant, Sharer,
Subject's Agent, Prover, Mediator, Inspector, Evaluator, Verifier, Consumer, and
Relying Party. Some of these are aliases for the same concept, others are
possibly new roles in the ecosystem. Reviewers should be aware that the
terminology used in this document is not necessarily final and the group is
actively soliciting feedback on the roles and terminology used in this
specification.
      </p>

        <p class="issue" data-number=80>
The group is currently discussing how the ecosystem overview could be improved
with the intent to defer future improvements as the current section seems to
be working well so far.
        </p>

        <p class="issue" data-number=32>
The group is currently discussing how to bootstrap simple Web of Trust
credentials in this ecosystem.
        </p>

    </section>

    <section>
      <h3>Use Cases and Requirements</h3>

      <em>This section is non-normative.</em>

      <p>
The Verifiable Credentials Use Cases [[VC-USECASES]] document outlines a number of
key topics that readers might find useful, including:
      </p>
      <ul>
        <li>
A more thorough explanation of the
<a href="https://www.w3.org/TR/verifiable-claims-use-cases/#user-roles">roles</a>
introduced above
        </li>
        <li>
The
<a href="https://www.w3.org/TR/verifiable-claims-use-cases/#user-needs">needs</a>
identified in market verticals, such as education, finance, healthcare, retail,
professional licensing, and government
        </li>
        <li>
Common
<a href="https://www.w3.org/TR/verifiable-claims-use-cases/#user-tasks">tasks</a>
performed by the roles in the ecosystem, as well as their associated
requirements
        </li>
        <li>
Common
<a href="https://www.w3.org/TR/verifiable-claims-use-cases/#user-sequences">sequences and flows</a>
identified by the Working Group.
        </li>
      </ul>
      <p>
As a result of documenting and analyzing the use cases document, a number of
desirable ecosystem characteristics were identified for this specification,
specifically:
      </p>
      <ul>
        <li>
<a>Holders</a> receive and store <a>verifiable credentials</a> from
<a>issuers</a>. <a>Holders</a> might interact with an issuer through an
agent that the issuer needn't trust.
        </li>
        <li>
<a>Holders</a> are positioned between <a>issuers</a> and <a>verifiers</a>
and use <a>verifiable credentials</a> to make <a>verifiable presentations</a>
to <a>verifiers</a>.
        </li>
        <li>
<a>Holders</a> might interact with <a>verifiers</a> through an agent that
verifiers need not trust; verifiers only need to trust <a>issuers</a>.
        </li>
        <li>
<a>Verifiable credentials</a> are associated with <a>subjects</a>, not
specific services; <a>holders</a> decide how to aggregate and manage
<a>verifiable credentials</a> and the <a>verifiable presentations</a>
associated with them.
        </li>
        <li>
<a>Holders</a> can easily control and own their own identifiers.
        </li>
        <li>
<a>Holders</a> control which <a>verifiable credentials</a> to use and when.
        </li>
        <li>
<a>Holders</a> can freely choose and change the agents they employ to help
them manage their <a>verifiable credentials</a> and generate and share
<a>verifiable presentations</a>.
        </li>
        <li>
<a>Holders</a> can share <a>verifiable presentations</a> that can be verified
without revealing the identity of the <a>verifier</a> to the <a>issuer</a>.
        </li>
        <li>
<a>Holders</a> in <a>presentations</a> can either disclose the attributes or
satisfy <a>predicates</a> requested by the <a>verifier</a>. <a>Predicates</a>
are boolean conditions like greater/less than or equal to, is in set, and so
on.
        </li>
        <li>
<a>Verifiable credentials</a> and <a>verifiable presentations</a> are
expressed in one or more standard, machine-readable data formats, which can
also be extended with minimal coordination.
        </li>
        <li>
<a>Issuers</a> issue <a>verifiable credentials</a>, and <a>holders</a> store
them. <a>Holders</a> offer <a>verifiable presentations</a>, and
<a>verifiers</a> verify them. Issuing of credentials, storage of credentials,
generation and sharing of presentations, and verification of presentations are
each independent processes.
        </li>
        <li>
<a>Verifiable Credentials</a> can be revoked by the <a>issuer</a>.
        </li>
      </ul>
      <p class="issue">
There are
<a href="https://www.w3.org/TR/verifiable-claims-use-cases/#user-tasks">other requirements</a>
listed in the Verifiable Credentials Use Cases
document that may or may not be aligned with the requirements listed above.
The VCWG will be ensuring alignment of the list of requirements from both
documents over time and will most likely move the list of requirements to a
single document.
      </p>
    </section>

  </section>

    <section>
      <h2>Terminology</h2>

      <em>This section is non-normative.</em>

      <div data-include="./terms.html"
        data-oninclude="restrictReferences">
      </div>
    </section>

    <section>
      <h2>Core Data Model</h2>

      <em>This section is non-normative.</em>

      <p>
The following sections outline core data model concepts, such as
<a>claims</a>, <a>credentials</a>, and <a>presentations</a>, that form the
foundation of this specification.
      </p>

      <section>
        <h3>Claims</h3>

        <em>This section is non-normative.</em>

        <p>
A <a>claim</a> is statement about a <a>subject</a>. A <a>subject</a> is an
<a>entity</a> about which <a>claims</a> can be made. <a>Claims</a> are
expressed using
<strong><em>subject</em></strong>-<dfn data-lt="property|properties">property</dfn>-<dfn>value</dfn>
relationships.
        </p>

      <figure>
        <img style="margin: auto; display: block;"
          width="50%" src="diagrams/claim.svg">
        <figcaption style="text-align: center;">
The basic structure of a claim.
        </figcaption>
      </figure>

      <p>
The data model for <a>claims</a> described above is powerful and can be used
to express a large variety of statements. For example, whether or not someone
is over the age of 21 can be expressed as shown below.
      </p>

      <figure>
        <img style="margin: auto; display: block;"
          width="50%" src="diagrams/claim-example.svg">
        <figcaption style="text-align: center;">
An example of a basic claim expressing that Pat is over the age of 21.
        </figcaption>
      </figure>

      <p>
If a <a>presentation</a> supports <a>derived predicates</a>, a <a>claim</a>
about birthdate in a <a>credential</a> can become the basis of proof that at a
given point in time, the age of a <a>subject</a> did or will fall within a
specified interval. Selective disclosure schemes using zero-knowledge proofs
can use <a>claims</a> expressed in this model to prove additional statements
about those <a>claims</a>. For example, a <a>claim</a> specifying a
<a>subject</a>'s date of birth can be used as a predicate to prove that the
<a>subject</a>'s age is within a given range, and therefore prove the
<a>subject</a> is of legal drinking age or qualifies for age-related
discounts, without actually revealing the <a>subject</a>'s birthdate. The
<a>holder</a> has the flexibility to use the <a>claim</a> in any way that is
applicable to the desired <a>presentation</a>.
      </p>
          <figure>
              <img style="margin: auto; display: block;"
                   width="50%" src="diagrams/claim-example-2.svg">
              <figcaption style="text-align: center;">
                  An example of a basic claim expressing that Pat's date of
				  birth is 2010-01-01T19:73:24Z.
                  Date encoding would be determined by the schema.
              </figcaption>
          </figure>
      <p>
These <a>claims</a> could be merged together to express a graph of information
about a <a>subject</a>. The example below extends the previous data model by
adding <a>claims</a> stating that Pat knows Sam and that Sam is employed as a
professor.
      </p>

      <figure>
        <img style="margin: auto; display: block;"
          width="75%" src="diagrams/claim-extended.svg">
        <figcaption style="text-align: center;">
Multiple claims can be combined to express a more complex graph.
        </figcaption>
      </figure>

      <p>
To this point, the concept of a <a>claim</a> is introduced. To be able to
trust <a>claims</a>, more information must be added.
      </p>

    </section>
    <section>
      <h3>Credentials</h3>

      <em>This section is non-normative.</em>

      <p>
A <a>credential</a> is set of one or more <a>claims</a> made by the same
<a>entity</a>. <a>Credentials</a> might include an identifier as well as
metadata to describe properties of the <a>credential</a>, such as the
<a>issuer</a>, the expiry time, a representative image, a public key to use
for verification purposes, the revocation mechanism, and so on. This metadata
might be signed by the <a>issuer</a>. A <a>verifiable credential</a> is a set
of tamper-evident <a>claims</a> and metadata that cryptographically prove who
issued it.
      </p>
      <p class="note">
<a>Credential</a> identifiers can be used for correlation. A <a>holder</a>
wanting to minimize correlation MUST use a selective disclosure scheme that
does not reveal the <a>credential</a> identifier.
      </p>

      <figure>
        <img style="margin: auto; display: block;" width="50%" src="diagrams/credential.svg">
        <figcaption style="text-align: center;">
The basic components of a verifiable credential.
        </figcaption>
      </figure>

      <p>
Examples of <a>verifiable credentials</a> include digital employee identification
cards, digital birth certificates, and digital educational certificates.
      </p>

      <p class="note">
It is possible to have a <a>credential</a>, such as a marriage certificate,
containing multiple <a>claims</a> about different <a>subjects</a> that are
not required to be related.
      </p>

      <p class="issue" data-number=47>
The group is currently discussing whether or not they support all the types
of claims that can be made.
      </p>

    </section>
    <section>
      <h3>Presentations</h3>

      <em>This section is non-normative.</em>

      <p>
Because this specification takes a privacy-first approach, it is important for
entities using this technology to be able to express only the portions of
their persona that are appropriate for a given situation. The expression of a
subset of one's persona is called a <a>verifiable presentation</a>.
      </p>

      <p>
A <a>verifiable presentation</a> expresses data from one or more
<a>verifiable credentials</a>, and is packaged in such a way that the
authorship of the data is verifiable. If <a>credentials</a> are directly
presented, they become a <a>presentation</a>. Data formats derived from
<a>credentials</a> that are cryptographically verifiable but do not of
themselves contain <a>credentials</a>, might also be <a>presentations</a>.
      </p>
      <p>
The data in a <a>presentation</a> is often about the same <a>subject</a>, but
was issued by multiple <a>issuers</a>. The aggregation of this information
typically expresses an aspect of a person, organization, or <a>entity</a>.
      </p>

      <figure>
        <img style="margin: auto; display: block;"
          width="50%" src="diagrams/presentation.svg">
        <figcaption style="text-align: center;">
The basic components of a verifiable presentation.
        </figcaption>
      </figure>

      <p>
Examples of different <a>presentations</a> include a person's professional
persona, their online gaming persona, or their home-life persona.
      </p>

      <p class="note">
It is possible to have a <a>presentation</a>, such as a business persona,
that draws upon multiple <a>credentials</a> about different <a>subjects</a>
that are often, but not required to be, related.
      </p>

    </section>
    </section>

    <section>
      <h2>Trust Model</h2>

      <em>This section is non-normative.</em>

      <p>
The <a>Verifiable Credentials</a> trust model is as follows:
      </p>

      <ul>
        <li>
The <a>verifier</a> trusts the <a>issuer</a> to issue the <a>credential</a>
that it received. To establish this trust, a credential MUST either:
          <ul>
			<li>
Include a <a href="#proofs-signatures">proof</a> establishing that the
<a>issuer</a> generated the <a>credential</a> (that is, it is a
<a>verifiable credential</a>)
            </li>
			<li>
Have been transmitted in a way clearly establishing that the <a>issuer</a>
generated the <a>credential</a> and that the <a>credential</a> was not
tampered with in transit or storage. This trust could be weakened depending
on the risk assessment of the verifier.
            </li>
          </ul>
        </li>
        <li>
All <a>entities</a> trust the <a>identifier registry</a> to be incorruptible
and to be a correct record of which identifiers belong to which
<a>entities</a>.
        </li>
        <li>
The <a>subject</a> trusts the <a>issuer</a> to issue true (that is, not false)
<a>credentials</a> about the <a>subject</a>, and to revoke them quickly when
appropriate.
        </li>
        <li>
The <a>holder</a> trusts the <a>repository</a> to store the <a>credentials</a>
securely, to not release them to anyone other than the <a>holder</a>, and to
not corrupt or lose them while they are in its care.
        </li>
      </ul>

      <p>
This trust model differentiates itself from other trust models by ensuring
the:
      </p>

      <ul>
        <li>
<a>Issuer</a> and the <a>verifier</a> do not need to trust the
<a>repository</a>
        </li>
        <li>
<a>Issuer</a> does not need to know or trust the <a>verifier</a>.
        </li>
      </ul>

      <p>
By decoupling the trust between the <a>identity provider</a> and the
<a>relying party</a> a more flexible and dynamic trust model is created
such that market competition and customer choice is increased.
      </p>

      <p>
Readers that would like to learn more about how this trust model interacts
with various threat models studied by the Working Group are urged to read
the Verifiable Credentials Use Cases Document [[VC-USECASES]].
      </p>

<p class="note">
The data model detailed in this specification does not imply a transitive trust
model, such as that provided by more traditional Certificate Authority trust
models. In the Verifiable Credentials Data Model, a <a>verifier</a> either
directly trusts an <a>issuer</a> or it does not trust the issuer. While it is
possible to build transitive trust models using the Verifiable Credentials
Data Model, implementers are urged to
<a href="https://tools.ietf.org/html/draft-housley-web-pki-problems">learn about the security weaknesses</a>
introduced by
<a href="https://www.cs.cornell.edu/people/egs/papers/dnssurvey.pdf">broadly delegating trust</a>
in the manner adopted by Certificate Authority systems.
      </p>
    </section>

    <section>
      <h2>Basic Concepts</h2>

      <p>
This section introduces some basic concepts for the specification, in
preparation for advanced concepts later in the document.
      </p>

      <section>
        <h3>Contexts</h3>

        <p>
When two software systems need to exchange data, they must use terminology and
a protocol that both systems understand. As an analogy, consider how two
people communicate. Both people must use the same language and the words they
use must mean the same thing to each other. This specification uses the
<code>@context</code> property to express the context of a conversation.
        </p>

        <dl>
          <dt><dfn>@context</dfn></dt>
          <dd>
The value of the <code>@context</code> property MUST be one or more URIs,
where the value of the first URI is
<code>https://w3.org/2018/credentials/v1</code>. If more than one URI is
provided, the URIs MUST be interpreted as an ordered set. It is RECOMMENDED
that dereferencing the URIs results in a document containing machine-readable
information about the context.
          </dd>
        </dl>

        <pre class="example nohighlight" title="Usage of the @context property">
{
  <span class="highlight">"@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.com/examples/v1"
  ]</span>,
  "id": "http://dmv.example.gov/credentials/3732",
  "type": ["VerifiableCredential", "ProofOfAgeCredential"],
  "credentialSubject": {
    "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    "ageOver": 21
  },
  "proof": { ... }
}
        </pre>

        <p>
The example above uses the base context URI
(<code>https://w3.org/2018/credentials/v1</code>) to establish that the
conversation is about a <a>verifiable credential</a>. The second
URI (<code>https://example.com/examples/v1</code>) establishes that the
conversation is about examples.
        </p>

        <p class="note">
This document uses the examples context URI
(<code>https://example.com/examples/v1</code>) for the purposes of
demonstrating examples. The examples context URI MUST NOT be used for any
other purpose, such as in pilot or production systems.
        </p>

        <p>
The data available at <code>https://w3.org/2018/credentials/v1</code> is a
static document that is never updated and MAY be downloaded and cached. The
associated human-readable vocabulary document for the Verifiable Credentials
Data Model is available at:
<a href="https://w3.org/2018/credentials">https://w3.org/2018/credentials</a>.
This concept is further expanded on in Section <a href="#extensibility"></a>.
        </p>
      </section>

      <section>
        <h3>Identifiers</h3>

        <p>
When expressing statements about a specific thing, such as a person, product,
or organization, it is often useful to use some kind of identifier so that
others can express statements about the same thing. Identifiers that others
are expected to use when expressing statements about a specific thing MUST be
expressed using the <code>id</code> property.
        </p>

        <p class="note">
Developers should remember that identifiers might be harmful in scenarios
where pseudonymity is required. Developers are encourged to read
Section <a href="#privacy-considerations"></a> carefully when considering
such scenarios.
        </p>

        <dl>
          <dt><dfn>id</dfn></dt>
          <dd>
The value of the <code>id</code> property MUST be a single URI. It is
RECOMMENDED that dereferencing the URI results in a document containing
machine-readable information about the identifier.
          </dd>
        </dl>

        <pre class="example nohighlight" title="Usage of the 'id' property">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.com/examples/v1"
  ],
  <span class="highlight">"id": "http://dmv.example.gov/credentials/3732"</span>,
  "type": ["VerifiableCredential", "ProofOfAgeCredential"],
  "credentialSubject": {
    <span class="highlight">"id": "did:example:ebfeb1f712ebc6f1c276e12ec21"</span>,
    "ageOver": 21
  },
  "proof": { ... }
}
        </pre>

        <p>
The example above uses two types of identifiers. The first identifier is for
the <a>credential</a> and uses an HTTP-based URL. The second identifier is for
the <a>subject</a> of the <a>credential</a> (the thing the <a>claims</a> are
about) and uses a Decentralized Identifier, also known as a DID.
        </p>

        <p class="note">
As of this publication, DIDs are a new type of identifier that are not
necessary for <a>verifiable credentials</a> to be useful. Specifically,
<a>verifiable credentials</a> do not depend on DIDs and DIDs do not depend on
<a>verifiable credentials</a>. However, it is expected that many
<a>verifiable credentials</a> will use DIDs and software libraries
implementing this specification will probably need to resolve DIDs. DID-based
URLs are used for expressing identifiers associated with cryptographic keys
and other machine-readable information that is useful when used in
the <a>verifiable credentials</a> ecosystem.
        </p>
      </section>

      <section>
        <h2>Types</h2>

        <p>
Software systems that process the kinds of objects specified in this document
use type information to determine whether or not a provided <a>credential</a>
or <a>presentation</a> is appropriate. Type information MUST be expressed
using the <code>type</code> property.
        </p>

        <dl>
           <dt><dfn data-lt="type|types">type</dfn></dt>
          <dd>
The value of the <code>type</code> property MUST be, or map to, one or more
URIs. If more than one URI is provided, the URIs MUST be interpreted as an
unordered set. Syntactic conveniences, such as JSON-LD terms, SHOULD be used
to ease developer usage. It is RECOMMENDED that dereferencing
the URIs results in a document containing machine-readable information about
the type.
          </dd>
        </dl>

        <pre class="example nohighlight" title="Usage of the type property">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.com/examples/v1"
  ],
  "id": "http://dmv.example.gov/credentials/3732",
  <span class="highlight">"type": ["VerifiableCredential", "ProofOfAgeCredential"]</span>,
  "credentialSubject": {
    "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    "ageOver": 21
  },
  "proof": { ... }
}
        </pre>

        <p>
With respect to this specification, the following table lists the objects that
MUST have a <a>type</a> specified.
        </p>

        <table class="simple">
          <thead>
            <tr>
              <th>Object</th>
              <th>Type</th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
<a href="#credentials">Credential</a>&nbsp;object
              </td>
              <td>
<code>VerifiableCredential</code> and a more specific
<a>credential</a> type. For example,<br>
<code>"type": ["VerifiableCredential", "ProofOfAgeCredential"]</code>
              </td>
            </tr>

            <tr>
              <td>
<a href="#presentations">Presentation</a>&nbsp;object
              </td>
              <td>
<code>VerifiablePresentation</code> and a more specific
<a>presentation</a> type. For example,<br>
<code>"type": ["VerifiablePresentation", "CredentialManagerPresentation"]</code>
              </td>
            </tr>

            <tr>
              <td>
<a href="#status">credentialStatus</a>&nbsp;object
              </td>
              <td>
A valid <a>credential</a> status type. For example,<br>
<code>"type": "CredentialStatusList2017"</code>
              </td>
            </tr>

            <tr>
              <td>
<a href="#terms-of-use">termsOfUse</a>&nbsp;object
              </td>
              <td>
A valid terms of use type. For example,<br>
<code>"type": "OdrlPolicy2017"</code>)
              </td>
            </tr>

            <tr>
              <td>
<a href="#terms-of-use">evidence</a>&nbsp;object
              </td>
              <td>
A valid evidence type. For example,<br>
<code>"type": "DocumentVerification2018"</code>
              </td>
            </tr>

          </tbody>
        </table>

        <p>
All <a>credentials</a>, <a>presentations</a>, and encapsulated objects MUST
specify, or be associated with, additional more narrow <a>types</a> (like
<code>ProofOfAgeCredential</code>, for example) so software systems can
process this additional information.
        </p>

        <p>
When processing encapsulated objects defined in this specification, (for
example, objects associated with the <code>credentialSubject</code> object
or deeply nested therein), software systems SHOULD use the <a>type</a>
information specified in encapsulating objects higher in the hierarchy.
Specifically, an encapsulating object, such as <a>credential</a>, SHOULD
convey the associated object <a>types</a> so that <a>verifiers</a> can quickly
determine the contents of an associated object based on the encapsulating
object <a>type</a>. For example, a <a>credential</a> object with the
<code>type</code> of <code>ProofOfAgeCredential</code>, would signal to a
<a>verifier</a> that the object associated with the
<code>credentialSubject</code> property contains the identifier for the
<a>subject</a> in the <code>id</code> property, and the age assertion in the
<code>ageOver</code> property. This enables implementers to rely on values
associated with the <code>type</code> property for verification purposes. The
expectation of <a>types</a> and their associated properties SHOULD be
documented in at least a human-readable specification, and preferably, in an
additional machine-readable representation.
        </p>

        <p class="note">
The type system for the Verifiable Credentials Data Model is the same as for
[[JSON-LD]] and is detailed in
<a href="https://www.w3.org/TR/json-ld/#specifying-the-type">Section 5.4: Specifying the Type</a>
and
<a href="https://www.w3.org/TR/json-ld/#json-ld-grammar">Section 8: JSON-LD Grammar</a>.
When using a JSON-LD context (see Section <a href="#extensibility"></a>),
this specification aliases the <code>@type</code> keyword to <code>type</code>
to make the JSON-LD documents more easily understood. While application
developers and document authors do not need to understand the specifics of the
JSON-LD type system, implementers of this specification who want to support
interoperable extensibility, do.
        </p>

      </section>

      <section>
        <h3>Issuer</h3>

        <p>
Issuer information can be expressed using the following <a>properties</a>:
        </p>
        <dl>
          <dt><var>issuer</var></dt>
          <dd>
The value of the <code>issuer</code> property MUST be a URI. It is RECOMMENDED
that dereferencing the URI results in a document containing machine-readable
information about the issuer that can be used to verify the information
expressed in the <a>credential</a>.
          </dd>
          <dt><var>issuanceDate</var></dt>
          <dd>
The value of the <code>issuanceDate</code> property MUST be a string value of
an [[!ISO8601]] combined date and time string representing the date and
time the <a>credential</a> was issued. Note that this date represents the
earliest date when the information associated with the
<code>credentialSubject</code> property became valid.
          </dd>
        </dl>
        <pre class="example nohighlight" title="Usage of issuer properties">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.com/examples/v1"
  ],
  "id": "http://dmv.example.gov/credentials/3732",
  "type": ["VerifiableCredential", "ProofOfAgeCredential"],
  <span class="highlight">"issuer": "https://dmv.example.gov/issuers/14"</span>,
  <span class="highlight">"issuanceDate": "2010-01-01T19:73:24Z"</span>,
  "credentialSubject": {
    "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    "ageOver": 21
  },
  "proof": { ... }
}
        </pre>
      </section>

      <section>
        <h2>Proofs (Signatures)</h2>

        <p>
For a <a>credential</a> or <a>presentation</a> to be verifiable, the following
<a>property</a> MUST be present:
        </p>
        <dl>
          <dt><var>proof</var></dt>
          <dd>
The method used for a mathematical proof varies by representation language and
the technology used.  For example, if digital signatures are used for the
proof mechanism, the <code>proof</code> property is expected to have a value
that is a set of name-value pairs including at least a signature, a reference
to the signing entity, and a representation of the signing date.</dd>
        </dl>
        <pre class="example nohighlight"
          title="Usage of proof property on a verifiable credential">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.com/examples/v1"
  ],
  "id": "http://example.gov/credentials/3732",
  "type": ["VerifiableCredential", "ProofOfAgeCredential"],
  "issuer": "https://dmv.example.gov",
  "issuanceDate": "2010-01-01",
  "credentialSubject": {
    "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    "ageOver": 21
  },
  <span class="highlight">"proof": {
    "type": "RsaSignature2018",
    "created": "2017-06-18T21:19:10Z",
    "creator": "https://example.com/jdoe/keys/1",
    "nonce": "c0ae1c8e-c7e7-469f-b252-86e6a0e7387e",
    "signatureValue": "BavEll0/I1zpYw8XNi1bgVg/sCneO4Jugez8RwDg/+
      MCRVpjOboDoe4SxxKjkCOvKiCHGDvc4krqi6Z1n0UfqzxGfmatCuFibcC1wps
      PRdW+gGsutPTLzvueMWmFhwYmfIFpbBu95t501+rSLHIEuujM/+PXr9Cky6Ed
      +W3JT24="
  }</span>
}
        </pre>

        <p class="issue" data-number=93>
The group is currently discussing various alignments with the JOSE stack,
specifically JWS and JWK.
        </p>

      </section>

      <section>
        <h3>Expiration</h3>

        <p>
Expiration information for a <a>credential</a> MAY be provided by adding
the following <a>property</a>:
        </p>

        <dl>
          <dt><var>expirationDate</var></dt>
          <dd>
The value of the <code>expirationDate</code> property MUST be a string value
of an [[!ISO8601]] combined date and time string representing the date and
time the <a>credential</a> ceases to be valid.
          </dd>
        </dl>

        <pre class="example nohighlight" title="Usage of expirationDate property">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.com/examples/v1"
  ],
  "id": "http://dmv.example.gov/credentials/3732",
  "type": ["VerifiableCredential", "ProofOfAgeCredential"],
  "issuer": "https://dmv.example.gov/issuers/14",
  "issuanceDate": "2010-01-01T19:73:24Z",
  <span class="highlight">"expirationDate": "2020-01-01T19:73:24Z"</span>,
  "credentialSubject": {
    "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    "ageOver": 21
  },
  "proof": { ... }
}
        </pre>

        <p class="issue" data-number=164>
The group is currently discussing expiration and caching.
        </p>

        <p class="issue" data-number=19>
The group is currently discussing how to automatically renew credentials.
        </p>

        <p class="issue" data-number=139>
The group is currently discussing how verifiable credentials may be
automatically updated.
        </p>

      </section>

      <section>
        <h3>Status</h3>

        <p>
Information about the current status of a <a>verifiable credential</a>, such
as whether it is suspended or revoked, MAY be provided using the
<code>credentialStatus</code> <a>property</a>.
	</p>

        <dl>
          <dt><var>credentialStatus</var></dt>
          <dd>
If specified, the value of the <code>credentialStatus</code> property MUST
include the:

	<ul>
	  <li>
<a>Credential</a> status type (also referred to as the <a>credential</a>
status scheme), which MUST provide enough information to determine the
current status of the <a>credential</a> (for example, suspended or
revoked).
	  </li>
	  <li>
<a>id</a> of the status type instance.
	  </li>
	</ul>

The precise contents of the credential status information is determined by
the specific <code>credentialStatus</code> type definition, and varies
depending on factors such as whether it is simple to implement or if it is
privacy-enhancing.
	  </dd>
        </dl>

        <pre class="example nohighlight" title="Usage of status property">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.com/examples/v1"
  ],
  "id": "http://dmv.example.gov/credentials/3732",
  "type": ["VerifiableCredential", "ProofOfAgeCredential"],
  "issuer": "https://dmv.example.gov/issuers/14",
  "issuanceDate": "2010-01-01T19:73:24Z",
  "credentialSubject": {
    "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    "ageOver": 21
  },
  <span class="highlight">"credentialStatus": {
    "id": "https://dmv.example.gov/status/24,
    "type": "CredentialStatusList2017"
  }</span>,
  "proof": { ... }
}
        </pre>

        <p>
Defining the data model, formats, and protocols for status schemes are out of
scope for this specification. A status scheme registry [[VC-STATUS-REGISTRY]]
exists for implementers who want to implement credential status checking.
        </p>
      </section>

      <section>
        <h3>Presentations</h3>

        <p>
<a>Verifiable presentations</a> MAY be used to combine and present
<a>verifiable credentials</a>.
	</p>

	<p>
If <a>verifiable presentations</a> are used, they MUST be constructed from
<a>verifiable credentials</a> themselves, or of data derived from
<a>verifiable credentials</a> in a cryptographically verifiable format.
        </p>

        <p>
The example below shows a <a>verifiable presentation</a> that embeds
<a>verifiable credentials</a>.
        </p>

        <pre class="example nohighlight" title="Basic structure of a presentation">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.com/examples/v1"
  ],
  "id": "urn:uuid:3978344f-8596-4c3a-a978-8fcaba3903c5",
  "type": ["VerifiablePresentation"],
  <span class="highlight">"verifiableCredential": [{ ... }],
  "proof": [{ ... }]</span>
}
        </pre>
        <p class="issue" data-number=133>
The group is currently discussing whether the "id" field is appropriately
defined for Presentations.
        </p>

        <p class="issue" data-number=106>
The group is currently discussing how the data model expresses when the
subject is not the holder of the credential/presentation.
        </p>

        <p class="issue" data-number=105>
The group is currently discussing holders, subjects, and identifier
control.
        </p>

        <p>
The contents of the <code>verifiableCredential</code> property shown above are
<a>verifiable credentials</a> as described by this specification. The contents
of the <code>proof</code> property are proofs as described by the
Linked Data Proofs [[LD-PROOFS]] specification. The <code>id</code> property
is optional and MAY be used to provide a unique identifier for the
presentation. The value associated with the <code>id</code> property MUST be a
URI.
        </p>

        <p>
Some zero-knowledge cryptography schemes might enable <a>holders</a> to
indirectly prove they hold a <a>credential</a> without revealing the
<a>credential</a> itself. In these schemes, the original attribute, such as
date of birth, might be translated into another value, such as "over the age
of 15", which is cryptographically asserted such that a <a>verifier</a> can
trust the value if they trust the <a>issuer</a>.
        </p>

        <p class="issue" title="ZKP-style verifiable presentation">
We are currently working on an example of a ZKP-style verifiable presentation
that contains derived data instead of directly embedded verifiable credentials.
        </p>
      </section>
    </section>

    <section>
      <h1>Advanced Concepts</h1>

      <section>
        <h2>Extensibility</h2>

        <p>
One of the goals of the Verifiable Credentials Data Model is to enable
permissionless innovation. This requires that the data model is extensible
in a number of different ways:
        </p>

        <ul>
          <li>
The requirement to model complex multi-entity relationships is provided
through the use of a graph-based data model.
          </li>
          <li>
The requirement to be able to extend the machine-readable vocabularies
used to describe information in the data model without the use of a
centralized system for doing so is accomplished via the use
of [[LINKED-DATA]].
          </li>
          <li>
The requirement to support multiple types of cryptographic proof formats is
accomplished via the use of Linked Data Proofs [[LD-PROOFS]],
Linked Data Signatures [[LD-SIGNATURES]], and a variety of signature suites.
          </li>
          <li>
The requirement to provide all of the extensibility mechanisms outlined above
in a data format that is popular among software developers and web page authors
is enabled via the use of [[!JSON-LD]].
          </li>
        </ul>

        <p>
This approach to data modelling is often called an "open world assumption,"
meaning that any entity can say anything about any other entity. This approach
often feels in conflict with building simple and predictable software systems.
Balancing extensibility with program correctness is always more challenging
with an open world assumption than it is with closed software systems.
        </p>

        <p>
The rest of this section describes how both extensibility and program
correctness are achieved through a series of examples.
        </p>

        <p class="issue" data-number=187>
The group is currently discussing how a travel use case could be covered as
an extension.
        </p>

        <p>
Let us assume that we start with the following <a>verifiable credential</a>:
        </p>

        <pre class="example nohighlight" title="A simple credential">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.com/examples/v1"
  ],
  "id": "http://example.com/credentials/4643",
  "type": ["VerifiableCredential"],
  "issuer": "https://example.com/issuers/14",
  "issuanceDate": "2018-02-24T05:28:04Z",
  "credentialSubject": {
    "id": "did:example:abcdef1234567",
    "name": "Jane Doe"
  },
  "proof": { ... }
}
        </pre>

        <p>
The credential above simply states that the entity associated with
<code>did:example:abcdef1234567</code> has a <code>name</code> with a
value of <code>Jane Doe</code>. Let's assume that a developer wanted to
extend the <a>verifiable credential</a> to store two additional pieces of
information: an internal corporate reference number, and Jane's favorite
food.
        </p>

        <p>
The first thing that a developer would do is create a JSON-LD Context
containing two new terms:
        </p>

        <pre class="example nohighlight" title="An example JSON-LD Context">
{
  "@context": {
    "referenceNumber": "https://example.com/vocab#referenceNumber",
    "favoriteFood": "https://example.com/vocab#favoriteFood"
  }
}
        </pre>

        <p>
Now that the JSON-LD Context has been created, the developer must publish it
somewhere that is accessible to <a>verifiers</a> that will be processing the
<a>verifiable credential</a>. For this example, let us assume that the
JSON-LD Context above is published at the following URL:
<code>https://example.com/contexts/mycontext.jsonld</code>. At this point,
extending the first example in this section is a simple matter of including the
context above and adding the new properties to the <a>verifiable credential</a>.
        </p>

        <pre class="example nohighlight"
          title="A verifiable credential with a custom extension">
{
  "@context": <span class="highlight">[
    </span>"https://w3.org/2018/credentials/v1",
    <span class="highlight">"https://example.com/contexts/mycontext.jsonld"
  ]</span>,
  "id": "http://example.com/credentials/4643",
  "type": ["VerifiableCredential"],
  "issuer": "https://example.com/issuers/14",
  "issuanceDate": "2018-02-24T05:28:04Z",
  <span class="highlight">"referenceNumber": 83294847,</span>
  "credentialSubject": {
    "id": "did:example:abcdef1234567",
    "name": "Jane Doe",
    <span class="highlight">"favoriteFood": "Papaya"</span>
  },
  "proof": { ... }
}
        </pre>

        <p>
The examples so far have shown that it is easy to extend the Verifiable
Credentials Data Model in a permissionless and decentralized way. The
mechanism shown also ensures that verifiable credentials that were created
in this way provide a mechanism to prevent namespace conflicts and
semantic ambiguity.
        </p>

        <p>
An extensibility model that is this dynamic does increase implementation burden.
Software written for such a system will have to determine if accepting
<a>verifiable credentials</a> with extensions is acceptable based on the
risk profile of the application. Some applications may choose to only accept
certain extensions while highly secure environments may require that no
extensions are allowed. These decisions are up to the developers of these
applications and are specifically not the domain of this specification.
Applications that do not understand the semantic meaning of all properties
while processing a verifiable credential or a verifiable presentation MUST
produce an error.
        </p>

        <p>
Developers are urged to ensure that extension JSON-LD Contexts are highly
available. Implementations that cannot fetch a context will produce an error.
Strategies for ensuring that extension JSON-LD Contexts are always available
include using content-addressed URLs for contexts, bundling context documents
with implementations, or enabling aggressive caching of contexts.
        </p>

        <section>
          <h3>Semantic Interoperability</h3>

          <p>
This specification endeavors to enable both the JSON and JSON-LD syntaxes
to be semantically compatible with one another without the JSON implementations
needing to process the documents as JSON-LD. In order to achieve this, the
specification creates the following additional restrictions on both syntaxes:
          </p>

          <ul>
            <li>
JSON-based processors MUST process the <code>@context</code> property, ensuring
the expected values exist in the expected order for the <code>type</code> of
<a>credential</a> that they are processing. The expected order MUST be defined
by at least a human-readable extension specification and, preferably, a
machine-readable specification.
            </li>
            <li>
In addition to the rule above, JSON-LD-based processors MUST produce an error
when a JSON-LD Context redefines any term in the
<a href="https://www.w3.org/TR/json-ld/#dfn-active-context">active context</a>.
            </li>
          </ul>

          <p>
To avoid the possibility of accidentally overriding terms, developers are urged
to scope their extensions. For example, the following extension scopes the
new <code>favoriteFood</code> term so that it may only be used within the
<code>credentialSubject</code> property:
          </p>

          <pre class="example nohighlight" title="Scoping terms in a JSON-LD Context">
{
  "@context": {
    "referenceNumber": "https://example.com/vocab#referenceNumber",
    <span class="highlight">"credentialSubject": {
      "@id": "https://w3.org/2018/credentials#credentialSubject",
      "@context": {
        "favoriteFood": "https://example.com/vocab#favoriteFood"
      }
    }</span>
  }
}
          </pre>

        </section>

      </section>

      <section>
        <h2>Data Schemas</h2>

        <p>
Data schemas are often useful when enforcing a particular structure on a given
collection of data. There are at least two types of data schemas that this
specification contemplates. The first are data validation schemas, which are
used to verify that the structure and contents of a
<a>verifiable credential</a> are conformant to a published schema. The second
are data encoding schemas, which are used to map the contents of a
verifiable credential to an alternative representation format such as a
binary format used in a zero-knowledge proof.
        </p>

        <p>
The expression of a data schema may be performed via the following
<a>property</a>:
        </p>

        <dl>
          <dt><var>credentialSchema</var></dt>
          <dd>The value of this property MUST be one or more data schemas
            that provide <a>verifiers</a> with enough information to
            determine if the provided data is conformant to the provided schema.
            Each <code>credentialSchema</code> comprises at least its
            <code>type</code> (e.g. <code>JsonSchemaValidator2018</code>),
            and an <code>id</code> property that MUST be a URI identifying
            the schema file. The precise contents of each
            data schema is determined by the specific type definition.
          </dd>
        </dl>

        <pre class="example nohighlight" title="Usage of credentialSchema property to do JSON Schema validation">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.org/motorlicense/v1"
  ],
  "id": "http://dmv.example.gov/credentials/3732",
  "type": ["VerifiableCredential", "ProofOfAgeCredential"],
  "issuer": "https://dmv.example.gov/issuers/14",
  "issuanceDate": "2010-01-01T19:73:24Z",
  "claim": {
    "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    "ageOver": 21
  },
  <span class="highlight">"credentialSchema": {
    "id": "https://example.org/motorlicense/proof-of-age.json",
    "type": "JsonSchemaValidator2018"
  }</span>,
  "proof": { ... }
}
        </pre>

        <p>
In the example above, the <a>issuer</a> is specifying a
<code>credentialSchema</code> that points to a JSON Schema file that can be
used by a <a>verifier</a> to determine if the <a>verifiable credential</a> is
well formed.
        </p>

        <p class="issue">
The group is still exploring how to utilize this feature for ZKPs and will
most likely adjust this section based on implementer feedback.
        </p>

        <p>
Data schemas can also be used to specify mappings to other binary formats,
such as those used to perform zero-knowledge proofs.
        </p>

        <pre class="example nohighlight" title="Usage of credentialSchema property to do zero-knowledge validation">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.org/motorlicense/v1"
  ],
  "id": "http://dmv.example.gov/credentials/3732",
  "type": ["VerifiableCredential", "ProofOfAgeCredential"],
  "issuer": "https://dmv.example.gov/issuers/14",
  "issuanceDate": "2010-01-01T19:73:24Z",
  "claim": {
    "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    "ageOver": 21
  },
  <span class="highlight">"credentialSchema": {
    "id": "https://example.org/motorlicense/proof-of-age.zkp",
    "type": "ZkpExampleSchema2018"
  }</span>,
  "proof": { ... }
}
        </pre>

        <p>
In the example above, the <a>issuer</a> is specifying a
<code>credentialSchema</code> that points to a zero-knowledge packed binary
data format that is capable of transforming the input data into a format
that can then be used by a <a>verifier</a> to determine if the
proof provided with the <a>verifiable credential</a> is valid.
        </p>

      </section>

      <section>
        <h2>Refreshing</h2>

        <p>
It is often useful for systems to enable the manual or automatic refresh of a
<a>verifiable credential</a> that has <a href="#expiration">expired</a>.
This specification enables an <a>issuer</a> to include a link to a refresh
service.
        </p>
        <p>
The issuer may include the refresh service as an element inside the <a>verifiable
credential</a> if it is intended for either the verifier or the holder or both, or
inside the <a>verifiable presentation</a> if it is intended for the holder only.
        </p>
        <p>
Including the refresh reference in the presentation enables the holder to refresh the
credential details before creating a presentation to share with a verifier, while including
the refresh reference in the <a>verifiable credential</a> enables the both the holder and
the verifier to perform future updates of the credential.
        </p>
       <p>
The expression of a refresh service may be performed via the following
<a>property</a>:
        </p>

        <dl>
          <dt><var>refreshService</var></dt>
          <dd>The value of this property MUST be one or more refresh services
            that provides enough information to the <a>holder</a>'s software
            such that it may refresh the credential.
            Each <code>refreshService</code> comprises at least its
            <code>type</code> (e.g. <code>ManualRefreshService2018</code>),
            and the serviceEndpoint URL. The precise contents of each
            refresh service is determined by the specific type definition.
          </dd>
        </dl>

        <pre class="example nohighlight" title="Usage of termsOfUse property by an Issuer">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.org/motorlicense/v1"
  ],
  "id": "http://dmv.example.gov/credentials/3732",
  "type": ["VerifiableCredential", "ProofOfAgeCredential"],
  "issuer": "https://dmv.example.gov/issuers/14",
  "issuanceDate": "2010-01-01T19:73:24Z",
  "credentialSubject": {
    "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    "ageOver": 21
  },
  <span class="highlight">"refreshService": {
    "type": "ManualRefreshService2018",
    "serviceEndpoint": "https://dmv.example.gov/refresh/283947"
  }</span>,
  "proof": { ... }
}
        </pre>

        <p>
In the example above, the <a>issuer</a> is specifying a
manual <code>refreshService</code> that can be used by directing the
<a>holder</a> to the following URL:
<code>https://dmv.example.gov/refresh/283947</code>.
        </p>

      </section>

      <section>
       <h2> Mode of Operation</h2>

<em>This section is non-normative.</em>

<p>
Section <a href="#ecosystem-overview"></a> provided an overview of the verifiable
credential ecosystem. A more detailed look at the way the eco-system is envisaged
to operate is as follows.
</p>

      <p>
Note that the following ordering of steps is not fixed and some steps may be repeated
multiple times.
      </p>

      <ul style="list-style-type:none">
        <li>
Step 1. The verifier defines its policies for accepting verifiable credentials
from holders for its supported actions.
   </li>
   <li>
Step 2. The issuer issues a verifiable credential to the holder.
  </li>
   <li>
Step 3. The holder MAY pass on its verifiable credentials to another holder.
  </li>
   <li>
Step 4. The final holder presents its verifiable credentials to the verifier in
a verifiable presentation, requesting a supported action.
  </li>
   <li>
Step 5. The verifier verifies the authenticity of the verifiable presentation
and verifiable credentials.
  </li>
   <li>
Step 6. The verifier verifies that the holder may posses the verifiable
credentials.
  </li>
   <li>
Step 7. The verifier determines whether to accept the verifiable credentials for
the requested action, taking into account its policy, the holder, and the contents
of the verifiable credentials.
  </li>
   <li>
Step 8. The verifier either performs the requested action or rejects the request.
  </li>
  </ul>

  <p>
This specification does not define any protocol for the transfer
of verifiable credentials or verifiable presentations, but assuming that other
specifications do specify how they are transferred between the various entities, then:
  </p>

  <ul>
  <li>
This verifiable credentials specification is directly applicable to steps
2, 3, 4, 5 and 6.
  </li>
  <li>
This verifiable credentials specification is not sufficient on its own for
steps 1, 7, and 8 as an authorisation framework will be needed as well.
  </li>
  </ul>

<p>
In particular, Section <a href="#terms-of-use"></a> and Section
<a href="#subject-holder-relationships"></a> specify how a verifier can
determine whether:
</p>
 <ul>
  <li>
the holder is the subject of a verifiable credential,
  </li>
   <li>
the relationship between the subject and the holder,
  </li>
   <li>
the original holder passed a verifiable credential to a subsequent holder,
  </li>
   <li>
any restrictions on the use of the verifiable credentials by the holder and/or verifier.
  </li>
  </ul>


     </section>

      <section>
        <h2>Terms of Use</h2>

        <p>Terms of use can be utilized by an <a>issuer</a>, a <a>subject</a>, or a
        <a>holder</a> to constrain the use of information expressed by the Verifiable
        Credentials Data Model. The <a>issuer</a> places their terms of use inside
        the <a>credential</a> before it is converted into a <a>verifiable credential</a>.
        The <a>holder</a> places holder terms of use inside a <a>presentation</a>.
        </p>

       <p class="note"> it is for further study how a subject who is not a
       holder places terms of
       use on his or her verifiable credentials. One way could be for the subject to
       request the issuer to place them inside the issued verifiable credentials. Another
       way could be by the subject delegating a verifiable credential to a holder and
       placing terms of use restrictions on the delegated verifiable credential.
       </p>
       <p> The expression of
        terms of use may be performed via the following <a>property</a>:
        </p>

        <dl>
          <dt><var>termsOfUse</var></dt>
          <dd>The value of this property MUST be one or more terms of use that tell the
verifier what actions it either MUST perform (i.e. an Obligation) or MUST NOT perform
(i.e. a Prohibition) or MAY perform (i.e. a Permission) if it is to accept the
verifiable credential or verifiable presentation.
          If the verifier is not willing to accept these terms of use then it MUST reject
          the verifiable credential or verifiable presentation.
          Each <code>termsOfUse</code> comprises its type,
            for example, <code>IssuerPolicy</code>, and
            optionally its instance id. The precise contents of each term of use is
            determined by the specific <code>TermsOfUse</code> type definition.
          </dd>
        </dl>

        <p class="issue" data-title="Direct the reader to a Terms of Use vocabulary">
The group is currently exploring a variety of ways of expressing the terms of
use associated with a Verifiable Credential, namely, the
<a href="http://w3c.github.io/poe/model/">Open Digital Rights Language</a>.
A related initiative is the one at <a href="https://customercommons.org">Customer Commons</a>.
        </p>

        <pre class="example nohighlight" title="Usage of termsOfUse property by an Issuer">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.org/motorlicense/v1"
  ],
  "id": "http://dmv.example.gov/credentials/3732",
  "type": ["VerifiableCredential", "ProofOfAgeCredential"],
  "issuer": "https://dmv.example.gov/issuers/14",
  "issuanceDate": "2010-01-01T19:73:24Z",
  "credentialSubject": {
    "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    "ageOver": 21
  },
  <span class="highlight">"termsOfUse": [{
    "type": "IssuerPolicy",
    "id": "http://example.com/policies/credential/4",
    "profile": "http://example.com/profiles/credential",
    "prohibition": [{
      "assigner": "https://dmv.example.gov/issuers/14",
      "assignee": "AllVerifiers",
      "target": "http://dmv.example.gov/credentials/3732",
      "action": ["Archival"]
    }]
  }</span>,
  "proof": { ... }
}
        </pre>

        <p>
In the example above, the <a>issuer</a> is prohibiting a <a>verifier</a> from
storing the data in an archive.
        </p>

        <pre class="example nohighlight" title="Usage of termsOfUse property by a Holder">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.org/motorlicense/v1"
  ],
  "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
  "type": "VerifiablePresentation",
  "verifiableCredential": [{
    "id": "http://dmv.example.gov/credentials/3732",
    "type": ["VerifiableCredential", "ProofOfAgeCredential"],
    "issuer": "https://dmv.example.gov/issuers/14",
    "issuanceDate": "2010-01-01T19:73:24Z",
    "credentialSubject": {
      "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
      "ageOver": 21
    },
    "proof": { ... }
  }],
  <span class="highlight">"termsOfUse": [{
    "type": "HolderPolicy",
    "id": "http://example.com/policies/credential/6",
    "profile": "http://example.com/profiles/credential",
    "prohibition": [{
      "assigner": "did:example:ebfeb1f712ebc6f1c276e12ec21",
      "assignee": "https://wineonline.example.org/",
      "target": "http://dmv.example.gov/credentials/3732",
      "action": ["3rdPartyCorrelation"]
    }]
  }</span>,
  "proof": [ ... ]
}
        </pre>

        <p>
In the example above, the <a>holder</a>, who is also the <a>subject</a>,
is prohibiting the <a>verifier</a> (<code>https://wineonline.example.org</code>)
from using the information provided to correlate the
<a>holder</a>/<a>subject</a> by using a 3rd party service.
        </p>

        <p class="issue" data-number=133>
The group is currently discussing how one knows who specified the Terms of Use.
        </p>

      </section>

      <section>
        <h2>Evidence</h2>

        <p>
The <em>evidence</em> property is used by an <a>issuer</a> to represent the
set of evidence that was used to determine whether or not to issue
a <a>credential</a>. For example, an issuer might check physical documentation
provided by the <a>subject</a> or might perform a set of background checks
before issuing the credential. In certain scenarios, this information is useful
to the <a>verifier</a> when determining the risk associated with accepting
the credential.
        </p>

        <p>
Evidence information for the credential in the Verifiable Credentials Data
Model is provided by adding the following <a>property</a>:
        </p>

        <dl>
          <dt><var>evidence</var></dt>
          <dd>The value of this property MUST be one or more evidence schemes
            that provides enough information to a <a>verifier</a>
            to determine whether or not the evidence gathered meets their
            requirements. The contents of each evidence scheme is determined
            by the particular scheme itself.
          </dd>
        </dl>

        <p class="issue" data-title="Define ONE concrete format for the evidence parameter ">
The group is currently determining whether or not they should publish a
very simple scheme for evidence as a part of this specification.
        </p>

        <p class="issue" data-number=136>
The group is currently discussing how attachments and references to
non-credential data are supported by the specification.
        </p>

        <p class="issue" data-number=135>
The group is currently discussing how attachments and references to
credentials are supported by the specification.
        </p>

        <pre class="example nohighlight" title="Usage of evidence property">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.org/motorlicense/v1"
  ],
  "id": "http://dmv.example.gov/credentials/3732",
  "type": ["VerifiableCredential", "ProofOfAgeCredential"],
  "issuer": "https://dmv.example.gov/issuers/14",
  "issuanceDate": "2010-01-01T19:73:24Z",
  "credentialSubject": {
    "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    "ageOver": 21
  },
  <span class="highlight">"evidence": [{
    "id": "https://dmv.example.gov/evidence/f2aeec97-fc0d-42bf-8ca7-0548192d4231",
    "type": ["DocumentVerification"],
    "verifier": "https://dmv.example.gov/issuers/14",
    "evidenceDocument": "DriversLicense",
    "subjectPresence": "Physical",
    "documentPresence": "Physical"
  }]</span>,
  "proof": { ... }
}
        </pre>

        <p class="note">
For the avoidance of doubt, the <em>evidence</em> <a>property</a> provides
information that is different from and complementary to the
<a href="#proofs-signatures">proof</a> property. The <em>evidence</em>
property is used to express supporting information, such as documentary
evidence, related to the integrity of the credential. In contrast, the
<em>proof</em> property is used to express machine-verifiable mathematical
proofs related to the authenticity of the issuer and integrity of the
credential.
        </p>

        <p class="issue" data-number=42>
The group is currently discussing how to visualize verifiable credentials and
any media associated with them.
        </p>

    </section>

    <section>

      <h1>Subject-Holder Relationships</h1>

      <p>
This section describes the possible relationships between the subject
and the holder and how the data model expresses the various relationships. The
following diagram depicts the various types of relationships that are covered in
the rest of this section:
     </p>

      <figure>
        <img style="margin: auto; display: block;" width="75%"
          src="diagrams/subject-ne-holder.svg">
        <figcaption style="text-align: center;">
Subject-Holder Relationships in Verifiable Credentials.
        </figcaption>
      </figure>

     <p>
The following sections describe how each of these instances are handled in
the data model.
     </p>

    <section>
      <h2>Subject is the Holder</h2>

      <p>
The most common case is when the <a>subject</a> is the <a>holder</a>. For
example, the <a>verifier</a> can easily deduce that the subject is the
holder if the <a>verifiable presentation</a> is digitally signed by the
holder and all contained <a>verifiable credentials</a> are about a subject
that can be identified to be the same as the holder.
      </p>

    </section>

    <section>
      <h2>Credential Uniquely Identifies Subject</h2>

      <p>.
In this case, the <code>credentialSubject</code> may contain multiple
properties that each provide an aspect of the identity of the subject, and
which together unambiguously identify the subject. Some use cases may not
require the holder to be identified at all, such as checking to see if a
doctor (the subject) is board certified. Other use cases may require the
verifier to use out-of-band knowledge to determine the relationship between
the subject and the holder.
      </p>

      <pre class="example nohighlight" title="An example of a credential
that uniquely identifies a subject">
{
  "@context": ["https://w3.org/2018/credentials/v1", "https://schema.org/"]
  "id": "http://dmv.example.gov/credentials/332",
  "type": ["VerifiableCredential", "IdentityCredential"],
  "issuer": "https://dmv.example.gov/issuers/4",
  "issued": "2017-02-24",
  "credentialSubject": {
    "name": "J. Doe",
    "address": {
      "streetAddress": "10 Rue de Chose",
      "postalCode": "98052",
      "addressLocality": "Paris",
      "addressCountry": "FR"
    },
    "birthDate": "1989-03-15"
    ...
  },
  "proof": { ... }
}
      </pre>

      <p>
The example above uniquely identifies the subject through the use of the
name, address, and birth date of the individual.
      </p>

   </section>

    <section>
      <h2>Subject Passes the Verifiable Credential to a Holder</h2>

      <p class="issue" data-number=204>
The group is currently debating the best security model for delegation. Readers
should treat this entire section as at-risk and currently under debate.
      <p>

      <p>
Normally verifiable credentials will be presented to verifiers by the
subject. However in some cases, the subject may need to pass the whole or
part of a verifiable credential to another holder. The data model allows for
both cases as follows.
      </p>

      <p>
If only the subject is allowed to present the verifiable credential to a
verifier, the issuer MUST insert the "subject only" Terms of Use into the
verifiable credential, as defined below. <span class="issue">
This feature is at risk and is likely to be removed due to lack of consensus.
</span>
      </p>

      <p>
If the subject is not forbidden by the issuer to pass the whole or part of a
verifiable credential to a holder, for example, a patient may pass a
prescription verifiable credential to a relative for the relative to present
it to a pharmacist for dispensing, then the subject MUST issue a verifiable
credential to the holder containing the credentialSubject properties that are being
passed on, as described below. <span class="issue">
This feature is at risk and is likely to be removed and replaced with
another solution, possibly created by another Working Group, that focuses on
delegation of authority instead of delegation of attributes.
</span>
      </p>

   <section>

   <h3> 'Subject Only' Terms of Use </h3>

      <p class="issue" data-number=204>
The group is currently debating the best security model for delegation. Readers
should treat this entire section as at-risk and currently under debate.
      </p>

  <p>
The Subject Only Terms of Use states that a verifiable credential MUST only be
presented to a verifier by the subject. If a verifier is presented with a
verifiable credential containing the Subject Only Terms of Use, by anyone other
    than the subject, it MUST refuse to accept it.
     </p>

        <pre class="example nohighlight" title="Subject Only termsOfUse property by an Issuer">
{
  "id": "http://dmv.example.gov/credentials/3732",
  "type": ["VerifiableCredential", "ProofOfAgeCredential"],
  "issuer": "https://dmv.example.gov/issuers/14",
  "issued": "2010-01-01T19:73:24Z",
  "credentialSubject": {
    "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    "ageOver": 21
  },
  <span class="highlight">"termsOfUse": [{
    "type": "SubjectOnly",
    }]
  }</span>,
  "proof": { ... }
}
        </pre>

       </section>

  <section>
   <h3> Passing on a Verifiable Credential </h3>

      <p class="issue" data-number=204>
The group is currently debating the best security model for delegation. Readers
should treat this entire section as at-risk and currently under debate.
      <p>

   <p>

When the subject passes a verifiable credential to a
holder, the subject SHOULD issue a new verifiable credential to the holder in which:
the issuer is the subject,
the subject is the holder to whom the verifiable credential is being passed,
and the credentialSubject contains the properties that are being passed on. In addition, the
holder creates a verifiable presentation that contains these two
verifiable credentials.
</p>

        <pre class="example nohighlight" title="An example of a holder presenting verifiable
credential properties that have been passed to it by the subject">
{
  "id": "did:example:76e12ec21ebhyu1f712ebc6f1z2",
  "type": ["VerifiablePresentation"],
  "verifiableCredential": [{
      "id": "http://example.gov/credentials/3732",
      "type": ["VerifiableCredential", "PrescriptionCredential"],
      "issuer": "https://dmv.example.gov",
      "issued": "2010-01-01",
      "credentialSubject": {
        "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
        "prescription": {....}
      },
      "revocation": {
        "id": "http://example.gov/revocations/738",
        "type": "SimpleRevocationList2017"
      },
      "proof": {....}
    },
    {
      "id": "https://example.com/VC/123456789",
      "type": ["VerifiableCredential", "PrescriptionCredential"],
      "issuer": "did:example:ebfeb1f712ebc6f1c276e12ec21",
      "issued": "2010-01-03",
      "credentialSubject": {
        "id": "did:example:76e12ec21ebhyu1f712ebc6f1z2",
        "prescription": {....}
      },
      "proof": {
        "type": "RsaSignature2018",
        "created": "2017-06-17T10:03:48Z",
        "creator": "did:example:ebfeb1f712ebc6f1c276e12ec21/keys/234",
        "nonce": "d61c4599-0cc2-4479-9efc-c63add3a43b2",
        "signatureValue": "pYw8XNi1..Cky6Ed = "
      }
    }
  ],
  "proof": [{
    "type": "RsaSignature2018",
    "created": "2017-06-18T21:19:10Z",
    "creator": "did:example:76e12ec21ebhyu1f712ebc6f1z2/keys/2",
    "nonce": "c0ae1c8e-c7e7-469f-b252-86e6a0e7387e",
    "signatureValue": "BavEll0/I1..W3JT24 = "
  }]
}
        </pre>


   </section>
  </section>

   <section>
      <h2>Holder Acts on Behalf of the Subject</h2>

      <p>
The data model supports the <a>holder</a> acting on behalf of the
<a>subject</a> in at least the following ways:
      </p>

      <ul>
        <li>
The issuer may include the relationship between the holder and the subject
in the <code>credentialSubject</code> data.
        </li>
        <li>
The issuer may express the relationship between the holder and the subject
by issuing a new <a>verifiable credential</a> which the holder utilizes.
        </li>
        <li>
The subject may express their relationship with the holder by issuing a
new <a>verifiable credential</a> which the holder utilizes.
        </li>
      </ul>

      <p>
The mechanisms above describe the relationship between the holder and the
subject and helps the verifier to decide whether the relationship is
sufficiently expressed for the given use case.
      </p>

      <p class="note">
The additional mechanisms that the issuer or the verifier uses to verify the
relationship between the subject and the holder are outside of the scope of
this specification.
      </p>

      <p class="issue">
It is for further study which, if any, of these mechanisms is to be
standardised by the working group.
      </p>

      <pre class="example nohighlight" title="An example of the relationship
property in a child's credential">{
  "id": "http://dmv.example.gov/credentials/3732",
  "type": ["VerifiableCredential", "ProofOfAgeCredential", "RelationshipCredential"],
  "issuer": "https://dmv.example.gov/issuers/14",
  "issued": "2010-01-01T19:73:24Z",
  "credentialSubject": {
    "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    "ageUnder": 16,
    "parent": {
      "id": "did:example:ebfeb1c276e12ec211f712ebc6f",
      "type": "Mother"
    }
  },
  "proof": { ... } // the proof is generated by the DMV
}
      </pre>

      <p>
In the example above, the issuer has expressed the relationship between the
child and the parent such that a verifier would most likely accept the
credential if it is provided by the child or the parent.
      </p>

      <pre class="example nohighlight" title="An example of a relationship
credential issued to a parent">{
  "id": "http://dmv.example.gov/credentials/3732",
  "type": ["VerifiableCredential", "RelationshipCredential"],
  "issuer": "https://dmv.example.gov/issuers/14",
  "issued": "2010-01-01T19:73:24Z",
  "credentialSubject": {
    "id": "did:example:ebfeb1c276e12ec211f712ebc6f",
    "child": {
      "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
      "type": ["Person", "Child"]
    }
  },
  "proof": { ... } // the proof is generated by the DMV
}
</pre>

     <p>
In the example above, the issuer has expressed the relationship between the
child and the parent in a separate credential such that a verifier would most
likely accept any of the child's credentials if it is provided by the child or
if the credential above is provided with any of the child's credentials.
     </p>

     <pre class="example nohighlight" title="An example of a relationship
credential issued by a child">{
  "id": "http://example.org/credentials/23894",
  "type": ["VerifiableCredential", "RelationshipCredential"],
  "issuer": "http://example.org/credentials/23894",
  "issued": "2010-01-01T19:73:24Z",
  "credentialSubject": {
    "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    "parent": {
      "id": "did:example:ebfeb1c276e12ec211f712ebc6f",
      "type": "Mother"
    }
  },
  "proof": { ... } // the proof is generated by the child
}
</pre>

      <p>
In the example above, the child has expressed the relationship between the
child and the parent in a separate credential such that a verifier would most
likely accept any of the child's credentials if the credential above is
provided.
      </p>

      <p>
Similarly, these same strategies can be used for many other types of use cases
such as power of attorney, pet ownership, and patient prescription pick up.
      </p>

    </section>

  <section>
      <h2>Issuer Authorises Holder</h2>

      <p>
When the issuer wishes to authorise a holder to possess a credential that
describes a subject who is not the holder, and the holder has no known relationship
 with the subject, then the issuer inserts the
relationship of the holder to itself into the subject's credential.
      </p>


        <pre class="example nohighlight" title="An example of a credential
issued to a holder who is not the subject of the credential, who has no relationship
with the subject of the credential, but who has a relationship with the issuer">

{
  "id": "http://dmv.example.gov/credentials/3732",
  "type": ["VerifiableCredential", "NameAndAddress"],
  "issuer": "https://dmv.example.gov/issuers/14",
  "holder": {
    "type": "LawEnforcement",
    "id": "did:example:ebfeb1276e12ec21f712ebc6f1c"
  },
  "issued": "2010-01-01",
  "credentialSubject": {
    "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    "name": "Mr John Doe",
    "address": "10 Some Street, Anytown, ThisLocal, Country X"
  },
  "proof": {
    "type": "RsaSignature2018",
    "created": "2017-06-17T10:03:48Z",
    "creator": "https://dmv.example.gov/issuers/14/keys/234",
    "nonce": "d61c4599-0cc2-4479-9efc-c63add3a43b2",
    "signatureValue": "pY9...Cky6Ed = "
  }
}        </pre>




     </section>

  <section>
      <h2>Holder Acts on Behalf of Verifier or has no Relationship with the
Subject, Issuer or Verifier</h1>

      <p>

The data model currently does not support either of these scenarios. It is
for further study how they might be supported.
      </p>
      </section>

   </section>

      <section>
        <h2>Disputes</h2>

        <p>
The time may come when an <a>entity</a> wants to dispute a <a>credential</a>
issued by the issuer. There are at least two different cases to consider:
a subject disputes a claim made by the issuer, e.g. the address property is out
of date, or an entity disputes a (false) claim made by the issuer about a
different subject, e.g. an imposter is claiming the entity's social security
number. Only the subject of a verifiable credential is entitled to issue a
"DisputeCredential". A "DisputeCredential" issued by anyone other than the
subject SHOULD be disregarded by the verifier, unless the verifier has some out
of band means of ascertaining the truth of the dispute. This is to prevent
denial of service attacks whereby an attacker falsely disputes a true claim.

The mechanism for issuing a "DisputeCredential"
is the same as issuing a regular credential except that the
<code>credentialSubject</code> identifier in the "DisputeCredential" is the
identifier of the disputed credential.  For example, if a credential with an
identifier of <code>https://example.org/credentials/245</code>
is disputed, an entity may issue one of the following credentials. In the
former case, the subject might present this to the verifier along with the
disputed credential. In the latter case, the entity might publish the
"DisputeCredential" in a public venue to make it known that the credential
is disputed.
        </p>

        <pre class="example nohighlight" title="Subject disputes a credential">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.com/examples/v1"
  ],
  "id": "http://example.com/credentials/123",
  "type": ["VerifiableCredential", "DisputeCredential"],
  <span class="highlight">"credentialSubject": {
    "id": "http://example.com/credentials/245",
    "currentStatus": "Disputed",
    "statusReason": "Address is out of date"
  }</span>,
  "issuer": "https://example.com/people#me",
  "issuanceDate": "2017-12-05T14:27:42Z",
  "proof": { ... }
}
        </pre>


        <pre class="example nohighlight" title="Another entity disputes a credential">
{
  "@context": "https://w3id.org/credentials/v1",
  "id": "http://example.com/credentials/321",
  "type": ["VerifiableCredential", "DisputeCredential"],
  <span class="highlight">"credentialSubject": {
    "id": "http://example.com/credentials/245",
    "currentStatus": "Disputed",
    "statusReason": "Credential contains disputed statements",
    "disputedClaim": {
      "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
      "ageOver": 21
    }
  }</span>,
  "issuer": "https://example.com/people#me",
  "issuanceDate": "2017-12-05T14:27:42Z",
  "proof": { ... }
}
        </pre>

        <p>
A <code>DisputeCredential</code> issued by anyone other than the
<a>subject</a>, or its authorised agent, SHOULD be disregarded by a
<a>verifier</a>, unless the verifier has some out of band means of
ascertaining the truth of the dispute.
        </p>

        <p class="note">
If a credential does not have an identifier, a content-addressed identifier
can be used to identify the disputed credential. Similarly, content-addressed
identifiers can be used to uniquely identify individual claims.
        </p>

        <p class="issue">
The group is currently exploring whether the specification of a vocabulary
term to express content-based identifiers for claims is within scope as well
as the specific vocabulary terms for disputed claims.
        </p>

      </section>

      <section>
        <h2>Authorization</h2>

        <p>
<a>Verifiable credentials</a> are intended as a means of reliably identifying
subjects. Whilst it is recognized that Role Based Access Controls (RBAC) and
Attribute Based Access Controls (ABAC) rely on this identification as a means
of authorizing subjects to access resources, this specification
MUST NOT be used for authorization purposes without an accompanying
authorization framework.
        </p>

        <p>
The Working Group did consider authorization use cases during the creation of
this specification and is pursuing that work as an architectural layer that is
built on top of this specification.
        </p>

      </section>

      <section>
        <h2>Syntactic Sugar</h2>

        <p>
In general, the data model and syntaxes described in this document are
designed such that developers may easily copy and
paste examples to add verifiable credentials into their software systems.
The design goal of this approach is to provide a low barrier to entry while
still ensuring global interoperability between a heterogenous set of software
systems. This section describes some of these approaches, which will most
likely go unnoticed by most developers, but whose details will be of
interest to implementers. The most noteworthy syntactic sugars used throughout
the ecosystem are as follows:
        </p>

        <ul>
          <li>
If processed using a JSON-LD processor, the <code>@id</code> and
<code>@type</code> keywords are aliased to <code>id</code> and
<code>type</code>, respectively, to enable the developer to use this
specification as idiomatic JSON.
          </li>
          <li>
If processed using a JSON-LD processor, data types, such as integers,
dates, units of measure, and URLs are automatically typed to provide
stronger type guarantees for use cases that require them.
          </li>
          <li>
If processed using a JSON-LD processor, the <code>verifiableCredential</code>
and <code>claim</code> properties are treated as "graph containers", which
are mechanisms that are used to isolate what one entity claims from
another entity. This ensures proper cryptographic separation between the data
graph provided by each <a>issuer</a> and the one provided by the
<a>presenter</a> to ensure the provenance of the information for each graph
is preserved.
          </li>
        </ul>

      </section>

      <section>
        <h2>Conformance</h2>

        <p>
A concrete expression of the data model in this specification is a
<em>conforming document</em> if it complies with the normative statements in
this specification regarding syntax (e.g., the content in
<a href="#basic-concepts">Basic Concepts</a>,
<a href="#advanced-concepts">Advanced Concepts</a>, and
<a href="#syntaxes">Syntaxes</a>).
For convenience, normative statements for <em>conforming documents</em> are
often phrased as statements on the syntax used in properties and their
associated values in the document (e.g., "MUST be a URI",
"MUST be a string value of an ISO8601 combined date and time string").
        </p>

        <p>
A <em>conforming processor</em> is a software or hardware-based implementation
of the normative statements in this specification regarding the expected
contents of property-value pairs (e.g., the content in <a>Verification</a>).
For convenience, normative statements for <em>conforming processors</em> are
often phrased as behavioral statements regarding the contents of
property-value pairs (e.g., "MUST NOT be revoked", "MUST be in the expected range").
        </p>

      </section>

    </section>
<a href="index.html" id="" title="index">index</a>
    <section>
      <h2>Syntaxes</h2>

      <p>
Many of the concepts in this document were introduced by example using the
JSON syntax. This section formalizes how the data model (described in Sections
<a href="#core-data-model"></a>, <a href="#basic-concepts"></a>, and
<a href="#advanced-concepts"></a>) is realized in JSON and JSON-LD. Although
syntactic mappings are provided for these two syntaxes only, applications and
services can use any other data representation syntax,
such as XML, YAML, or CBOR, that is capable of expressing the data model.
      </p>

      <section>
        <h3>JSON</h3>

          <p>
The data model as described in Section <a href="#core-data-model"></a> can be
encoded in Javascript Object Notation (JSON) [[!RFC8259]] by mapping property
values to JSON types as follows:
          </p>

          <ul>
            <li>
Numeric values representable as IEEE754 SHOULD be represented as a Number type.
            </li>
            <li>
Boolean values SHOULD be represented as a Boolean type.
            </li>
            <li>
Sequence value SHOULD be represented as an Array type.
            </li>
            <li>
Unordered sets of values SHOULD be represented as an Array type.
            </li>
            <li>
Sets of <a>properties</a> SHOULD be represented as an Object type.
            </li>
            <li>
Empty values SHOULD be represented as a null value.
            </li>
            <li>
Other values MUST be represented as a String type.
            </li>
          </ul>

        <section>
          <h4>JSON Web Token</h4>

          <p class="issue">
This section will be moved into its own specification before this document
enters the Candidate Recommendation stage.
          </p>

          <p>
The following example demonstrates how to express this data model using a JSON
Web Token.
          </p>

          <pre class="example" title="A JOSE JWT verifiable credential">

eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJodHRwczovL2Rtdi
5leGFtcGxlLmdvdiIsImlhdCI6MTI2MjMwNDAwMCwiZXhwIjoxNDgzMjI4ODAwL
CJhdWQiOiJ3d3cuZXhhbXBsZS5jb20iLCJzdWIiOiJkaWQ6ZWJmZWIxZjcxMmVi
YzZmMWMyNzZlMTJlYzIxIiwiZW50aXR5Q3JlZGVudGlhbCI6eyJAY29udGV4dCI
6Imh0dHBzOi8vdzNpZC5vcmcvc2VjdXJpdHkvdjEiLCJpZCI6Imh0dHA6Ly9leG
FtcGxlLmdvdi9jcmVkZW50aWFscy8zNzMyIiwidHlwZSI6WyJDcmVkZW50aWFsI
iwiUHJvb2ZPZkFnZUNyZWRlbnRpYWwiXSwiaXNzdWVyIjoiaHR0cHM6Ly9kbXYu
ZXhhbXBsZS5nb3YiLCJpc3N1ZWQiOiIyMDEwLTAxLTAxIiwiY2xhaW0iOnsiaWQ
iOiJkaWQ6ZWJmZWIxZjcxMmViYzZmMWMyNzZlMTJlYzIxIiwiYWdlT3ZlciI6Mj
F9fX0.LwqH58NasGPeqtTxT632YznKDuxEeC59gMAe9uueb4pX_lDQd2_UyUcc6
NW1E3qxvYlps4hH_YzzTuXB_R1A9UHXq4zyiz2sMtZWyJkUL1FERclT2CypX5e1
fO4zVES_8uaNoinim6VtS76x_2VmOMQ_GcqXG3iaLGVJHCNlCu4

          </pre>

          <p>
The JWT above was produced using the inputs below:
          </p>

          <p class="issue">
A number of the concerns have been raised around security,
composability, reusability, and extensibility with respect
to the use of JWTs for Verifiable Credentials. These concerns
will be documented in time in at least the Verfiable Claims Model
and Security Considerations section of this document.
          </p>

          <pre>
// JWT Header
{
  "alg": "RS256",
  "typ": "JWT"
}
// JWT Payload
{
  "iss": "https://dmv.example.gov",
  "iat": 1262304000,
  "exp": 1483228800,
  "aud": "www.example.com",
  "sub": "did:example:ebfeb1f712ebc6f1c276e12ec21",
  "verifiableCredential": {
    "@context": "https://w3.org/2018/security/v1",
    "id": "http://example.gov/credentials/3732",
    "type": ["VerifiableCredential", "ProofOfAgeCredential"],
    "issuer": "https://dmv.example.gov",
    "issuanceDate": "2010-01-01",
    "credentialSubject": {
      "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
      "ageOver": 21
    }
  }
}
          </pre>

        </section>

      </section>

      <section>
        <h3>JSON-LD</h3>

        <p>
[[!JSON-LD]] is a JSON-based format used to serialize
<a href="http://www.w3.org/TR/ld-glossary/#linked-data">Linked Data</a>.
The syntax is designed to easily integrate into deployed systems already using
JSON, and provides a smooth upgrade path from JSON to JSON-LD. It is primarily
intended to be a way to use Linked Data in Web-based programming environments,
to build interoperable Web services, and to store Linked Data in JSON-based
storage engines.
        </p>

        <p>
JSON-LD is useful when extending the data model described in this
specification. Instances of the data model are encoded in JSON-LD in the same
way they are encoded in JSON (Section <a href="#json"></a>), with the addition
of the <code>@context</code> property. The
<a href="https://www.w3.org/TR/json-ld/#the-context">JSON-LD Context</a>
is described in detail in the [[!JSON-LD]] specification and its use is
elaborated on in Section <a href="#extensibility"></a>.
        </p>

        <p>
Multiple contexts MAY be used or combined to express any arbitrary information
about credentials in idiomatic JSON. If an application is processing a
<a>verifiable credential</a> or <a>verifiable presentation</a>, and a
<code>@context</code> property is not present at the top-level of the JSON-LD
document, then a <code>@context</code> property with a value of
<code>https://w3.org/2018/credentials/v1</code> MUST be assumed. The JSON-LD
Context available at <code>https://w3.org/2018/credentials/v1</code> is a
static document that is never updated and can therefore be downloaded and
cached client side. The associated vocabulary document for the Verifiable
Credentials Data Model is available at
<code>https://w3.org/2018/credentials</code>.
        </p>

      </section>

    </section>

    <section>
      <h2>Verification</h2>

        <p>
This section describes a number of checks required to verify a
<a>credential</a>. Some checks are essential for all
<a>verifiable credentials</a>, while other checks are applicable to only some
<a>credentials</a>.
        </p>

        <p class="issue" data-number=128>
The group is currently discussing whether a mechanism should be provided
that enables linkages to JSON Schema or other optional validation mechanisms.
        </p>

      <section>
        <h3>Syntax</h3>

          <p>
The document is syntactically valid. For example, syntactically valid JSON or
JSON-LD.
          </p>

      </section>

      <section>
        <h3>Credential</h3>

          <p>
Required properties MUST be present. For example, for a
<a>verifiable credential</a>, <code>type</code>, and <code>proof</code>
properties are required.
          </p>

          <p>
Property values MUST match expectations described in this specification. For
example, the document <code>type</code> property for a
<a>verifiable credential</a> MUST contain the
<code>VerifiableCredential</code> class.
          </p>

      </section>

      <section>
        <h3>Issuer</h3>

          <p>
The value associated with the <code>issuer</code> property MUST identify an
<a>issuer</a> that is known to and trusted by the <a>verifier</a>.
          </p>

          <p>
Pertinent metadata about the <code>issuer</code> MUST be available to the
<a>verifier</a>. For example, an <a>issuer</a> can publish information
containing the public keys it uses to digitally sign
<a>verifiable credentials</a> that it has issued. This metadata is pertinent
when checking the proofs on the <a>verifiable credential</a>.
          </p>

      </section>

      <section>
        <h3>Subject</h3>

          <p>
The value associated with the <code>id</code> property for each
<code>credentialSubject</code> MUST identify a <a>subject</a> to the
<a>verifier</a>. For example, if a <a>subject</a> is identified and the
<a>verifier</a> has public key metadata related to the <a>subject</a> that is
used for authentication purposes, the verifier MAY be able to authenticate the
<a>subject</a> using a signature generated by the <a>subject</a> contained in
the <a>verifiable presentation</a>.
          </p>

          <p class="issue" data-number=162>
The group is currently discussing how authentication and WebAuthn may work.
          </p>

          <p class="note">
The <code>id</code> property is optional. <a>Verifiers</a> MAY use other
properties in a <a>credential</a> to uniquely identify a <a>subject</a>.
          </p>

      </section>

      <section>
        <h3>Proofs (Signatures)</h3>

          <p>
The cryptographic mechanism used to prove that the information in a
<a>verifiable credential</a> or a <a>verifiable presentation</a> has not been
tampered with is called a <em>proof</em>. There are many types of
cryptographic proofs including, but not limited to, digital signatures,
zero-knowledge proofs, proofs of work, and proofs of stake. In general, when
verifying proofs implementations MUST ensure that:
          </p>

          <ul>
            <li>
The proof is available in the form of a known proof suite.
            </li>
            <li>
All required proof suite properties are present.
            </li>
            <li>
The proof suite verification agorithm, when applied to the data, results in an
acceptable proof.
            </li>
          </ul>

          <p>
Some proofs are digital signatures. In general, when verifying digital
signatures, implementations MUST ensure that:
          </p>

          <ul>
            <li>
Acceptably recent metadata regarding the public key associated with the
signature is available. For example, the metadata might include properties
related to expiration, key owner, or key purpose.
            </li>
            <li>
The key MUST NOT be revoked or expired.
            </li>
            <li>
The cryptographic signature MUST be valid.
            </li>
            <li>
If the cryptographic suite expects a <code>proofPurpose</code>, it MUST exist
and be a valid value (such as <code>credentialIssuance</code>) as per the
cryptographic suite.
            </li>
          </ul>

          <p class="note">
The digital signature provides a number of protections, other than tamper
resistance, that are not immediately obvious. For example, a Linked Data
Signature <code>created</code> property establishes a date and time before
which the <a>credential</a> SHOULD NOT be considered valid. The
<code>creator</code> property enables the ability to dynamically discover
information about the <a>entity</a> who created the data to ensure that the
public key is not revoked or expired. The <code>proofPurpose</code> property
ensures the reason the entity created the signature, such as for
authentication or creating a <a>verifiable credential</a>, is clear and
protected in the signature.
          </p>
      </section>

      <section>
        <h3>Issuance</h3>

          <p>
The <code>issuanceDate</code> MUST be within an expected range for the
<a>verifier</a>. For example, a <a>verifier</a> can ensure that the issuance
date of a <a>verifiable credential</a> is not in the future.
          </p>

      </section>

      <section>
        <h3>Expiration</h3>

          <p>
The <code>expirationDate</code> MUST be within an expected range for the
<a>verifier</a>. For example, a <a>verifier</a> can ensure that the expiration
date of a <a>verifiable credential</a> is not in the past.
          </p>

      </section>

      <section>
        <h3>Revocation</h3>

          <p>
If revocation instructions are present, the <a>credential</a> MUST NOT
have been revoked.
          </p>

      </section>

      <section>
        <h3>Fitness for Purpose</h3>

          <p>
Custom properties in the <a>credential</a> are appropriate for the purpose of
the <a>verifier</a>. For example, if a <a>verifier</a> needs to determine if a
<a>subject</a> is older than 21 years of age, they might accept claims of
specific <code>birthdate</code> or abstract properties such as
<code>ageOver</code>.
          </p>

          <p>
The <a>issuer</a> is trusted by the <a>verifier</a> to make the claims at
hand. For example, a franchised fast food restaurant location will trust
discount coupon claims made by the corporate headquarters of the franchise.
          </p>

          <p>
All policy information expressed by an <a>issuer</a> in a
<a>verifiable credential</a> MUST be enforced unless <a>verifiers</a> accept
the risk of not enforcing the policy information. For example, an
<a>issuer</a> might limit the use of a <a>credential</a> to specific
<a>verifiers</a>, to <a>holders</a> within a specific age range, or between
specific dates.
          </p>

          <p>
All policy information expressed by a <a>holder</a> in a
<a>verifiable presentation</a> MUST be enforced unless <a>verifiers</a> accept
the risk of not enforcing the policy information. For example, a <a>holder</a>
might limit the use of a <a>credential</a> to specific <a>verifiers</a> or for
specific purposes (such as authentication, but not data mining).
          </p>

      </section>

    </section>

    <section>
      <h2>Accessibility Considerations</h2>

      <em>This section is non-normative.</em>

      <p>
There are a number of accessibility considerations of which implementors
should be aware when processing data described in this specification.
As with any implementation of web standards or protocols, ignoring
accessibility issues will make this information unusable to a large
subset of the population. It is important to follow accessiblity
guidelines and standards such as [[WCAG21]] to ensure that all people,
regardless of ability, can make use of this data. This is especially
important when establishing systems that utilize cryptography and encryption,
which, historically, have created problems for assistive technologies.
      </p>

      <p>
This section details the general accessibility considerations that should be
taken into account when utilizing this data model.
      </p>

      <section>
        <h3>Data First Approaches</h3>
        <p>
Many physical credentials in use today, such as government identification
cards, have poor accessibility characteristics. Some of these poor
characteristics include, but are not limited to, small print,
reliance on small, high resolution images, and no affordances for people with
vision impairments.
        </p>

        <p>
When utilizing this data model to create verifiable credentials, it is
suggested that data model designers use a "data first" approach. For example,
given the choice of using data or a graphical image to depict a credential,
a designer should choose to express every element of the image,
such as the name of an institution or the professional credential, in a
machine readable way rather than solely relying on the image to convey this
information. This approach is preferred because a "data first" approach
provides the foundational elements of building different interfaces for
people with varying abilities.
        </p>
      </section>
    </section>

    <section>
      <h2>Privacy Considerations</h2>

      <em>This section is non-normative.</em>

      <p>
This section details the general privacy considerations and specific privacy
implications of deploying the verifiable credentials data model into production
environments.
      </p>

      <section>
        <h3>Spectrum of Privacy</h3>
        <p>
It is important to recognize that there is a spectrum of privacy that ranges
from pseudonymous to strongly identified. Depending on the use case,
people have different appetites when it comes to what information they
are willing to provide and what information may be derived from what
is provided.
        </p>

        <figure>
          <img style="margin: auto; display: block;" width="80%"
            src="diagrams/privacy-spectrum.svg">
          <figcaption style="text-align: center;">
- Privacy is a spectrum that ranges from pseudonymous to fully identified.
          </figcaption>
        </figure>

        <p>
For example, one would most likely desire to remain anonymous when purchasing
alcohol because the regulatory check that’s required is solely whether or
not the person is above a particular age. However, when a doctor is writing a
prescription for a patient, the pharmacy fulfilling the prescription is
required to more strongly identify the medical professional. Therefore it
is important to recognize that there is not one approach to privacy that
works for all use cases; privacy solutions tend to be use case specific.
        </p>

        <p class="note">
Even if one may desire to remain anonymous when purchasing
alcohol, a photo ID may still be required to provide appropriate
assurance to the merchant. The merchant may not need to know your
name or other details (other than that you are over a certain age),
but in many cases a mere proof of age may still be insufficient to
meet regulations.
        </p>

        <p>
The Verifiable Credentials data model strives to support the full spectrum of
privacy and does not take philosophical positions on the right level of
anonymity for any particular transaction. The following sections provide
guidance for implementers that want to avoid specific scenarios that are
hostile to privacy.
        </p>

        <p class="issue" data-number=125>
The group is currently discussing how the specification should be modified to
support ZKPs and other forms of anonymous credentials.
        </p>
      </section>

      <section>
        <h3>Personally Identifiable Information</h3>

        <p>
The data associated with verifiable credentials stored in the
<code>credential.credentialSubject</code> field are largely susceptible to
privacy violations when shared with verifiers. Personally identifying data
such as a government-issued identifier, shipping address, and full name
can be easily used to determine, track, and correlate an entity. Even
information that does not seem personally identifiable like the
combination of a birth date and zip code have very powerful correlation
and de-anonymizing capabilities.
        </p>

        <p>
Implementers are strongly advised to
warn holders when they share data with these sorts of characteristics.
Issuers are strongly advised to provide privacy-protecting credentials
when possible. For example, issuing ageOver credentials instead of
birthdate credentials when the verifier desires to determine if an
entity is over the age of 18.
        </p>
      </section>

      <section>
        <h3>Identifier-Based Correlation</h3>

        <p>
Subjects of verifiable credentials are identified via the
<code>credential.credentialSubject.id</code> field. The identifiers that are
used to identify the subject create a danger of correlation when
the identifiers are long-lived or used across more than one web domain.
        </p>
        <p>
If strong anti-correlation properties are a requirement in a system using
verifiable credentials, it is strongly advised that identifiers are bound to a
single origin or that identifiers are single-use or not used at all and
are replaced by short-lived, single-use bearer tokens.
        </p>
      </section>

      <section>
        <h3>Signature-Based Correlation</h3>

        <p>
The contents of verifiable credentials are secured via the
<code>credential.proof</code> field. The properties in this field
create a danger of correlation when the same values are used across more than
one session or domain and the value does not change. Examples include the
<code>creator</code>, <code>created</code>,
<code>domain</code> (for very specific domains),
<code>nonce</code>, and <code>signatureValue</code> fields.
        </p>

        <p>
If strong anti-correlation properties are desired,
it is advised that signature values and metadata are regenerated
each time using technologies like third-party pairwise signatures,
zero-knowledge proofs, or group signatures. It is also important to note
that even when using anti-correlation signatures that information may still
be contained in the credential that defeats the anti-correlation properties
of the cryptography.
        </p>
      </section>

      <section>
        <h3>Long Lived Identifier-Based Correlation</h3>

        <p>
Verifiable <a>credentials</a> may contain long lived identifiers that could
be used to correlate individuals. These types of identifiers include:
subject identifiers, email addresses, government-issued identifiers,
organization-issued identifiers, addresses, healthcare vitals,
credential-specific JSON-LD Contexts, and many other sorts of long-lived
identifiers.
        </p>

        <p>
Organizations providing software to <a>holders</a> should strive to identify
fields in credentials containing information that could be used to correlate
them and warn the holder when this information is shared.
        </p>
      </section>

      <section>
        <h3>Device Fingerprinting</h3>

        <p>
There are mechanisms external to Verifiable Credentials that are used to track and
correlate individuals on the Internet and the Web. Some of these mechanisms
include Internet Protocol address tracking, web browser fingerprinting,
evercookies, advertising network trackers, mobile network position information,
and in-application Global Positioning System APIs. The use of Verifiable
Claims cannot prevent the use of these other tracking technologies. In addition,
when these technologies are used in concert with Verifiable Credentials, new
correlatable information may be discovered. For example, a birthday coupled
with a GPS position can be used to strongly correlate an individual across
multiple websites.
        </p>

        <p>
It is advised that privacy-respecting systems prevent the use of these other
tracking technologies when verifiable credentials are being utilized. In some cases,
these tracking technologies may need to be disabled entirely on devices that
transmit verifiable credentials on behalf of the Holder.
        </p>
      </section>

      <section>
        <h3>Favor Abstract Claims</h3>

        <p>
In order to enable recipients of verifiable credentials to use them in a
variety of circumstances without revealing more personally identifiable
information than necessary for the transaction, issuers should consider
limiting the information published in a credential to a minimal set needed for
the expected purposes. One way to avoid placing personally identifiable
information in a credential is to use an "abstract" property that meets the
needs of verifiers without providing specific information about the subject.
        </p>
        <p>
An example in this document is the use of the <code>ageOver</code> property as
opposed to a specific birthdate that would constitute much stronger personally
identifiable information. If retailers in a market commonly require purchasers
to be older than a specific age, an issuer trusted in that market may choose
to offer a credential claiming that subjects have met that requirement as
opposed to offering credentials containing claims of their specific birthdates.
This enables individual customers to purchase items without revealing specific
personally identifiable information.
        </p>
      </section>

      <section>
        <h3>The Principle of Minimum Disclosure</h3>

        <p>
Privacy violations occur when information divulged in one context leaks into
another. Accepted best practice for preventing such violations is to limit
the information requested, and received, to the absolute minimum necessary.
This minimal disclosure approach is required by regulation in multiple
jurisdictions, including HIPAA in the US and GDPR in the EU.
        </p>
        <p>
With verifiable credentials, minimal disclosure for issuers means limiting the
content of a credential to the minimum required by potential verifiers for
expected use. For verifiers, it means limiting the scope of the information
requested or required for accessing services.
        </p>
        <p>
For example, a driver's license containing a driver's ID number,
height, weight, birthday, and home address is an example of a credential
containing more information than is necessary to establish that the person
is above a certain age.
        </p>

        <p>
It is considered a best practice for issuers to atomize information or
use a signature scheme that allows for selective disclosure.
For example, an issuer
that issues driver's licenses could issue a set of credentials containing every
attribute that appears on a driver's license in addition to atomized
credentials (a credential containing only the person's birthday), and atomized
credentials that are more abstract (a credential containing only an
<code>ageOver</code> attribute). One possible simple adaptation is for the issuer to
provide secure HTTP endpoints for retrieving single-use bearer credentials to
promote the pseudonymous usage of credentials. Implementers that find this
impractical or unsafe should consider the use of selective disclosure schemes
that eliminate dependence on issuers at proving time and reduce temporal
correlation risk from the issuer.
        <p>
Verifiers are urged to only request information that is absolutely
necessary for a particular transaction to occur. This is important for at
least two reasons: 1) it reduces the liability on the verifier for
handling highly sensitive information that it does not need, and 2)
it enhances the privacy of the individual by only asking for information
that is required for the particular transaction.
        </p>
        <p class="note">
While it is possible to practice the Principle of Minimum Disclosure, it may
be impossible to avoid the strong identification of an individual for
specific use cases during a single session or over multiple sessions. The
authors of this document cannot stress how difficult it is to meet this
principle in real world scenarios.
        </p>
      </section>

      <section>
        <h3>Bearer Credentials</h3>

        <p>
A <em>bearer credential</em> is a privacy-enhancing piece of information,
such as a concert ticket, that entitles the <a>holder</a> of the credential to a
particular resource without divulging sensitive information about the holder.
        </p>

        <p>
Verifiable Credentials that are bearer credentials are possible by not
specifying the <a>subject</a> identifier, expressed using the
<code>id</code> property that is nested in the <code>credentialSubject</code> property.
For example, the following Verifiable Credential is a bearer credential:
        </p>

        <pre class="example nohighlight" title="Usage of issuer properties">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.com/examples/v1"
  ],
  "id": "http://dmv.example.gov/credentials/temporary/28934792387492384",
  "type": ["VerifiableCredential", "ProofOfAgeCredential"],
  "issuer": "https://dmv.example.gov/issuers/14",
  "issuanceDate": "2017-10-22T12:23:48Z",
  "credentialSubject": {
    <span class="comment">// note that the 'id' property is not specified for bearer credentials</span>
    "ageOver": 21
  },
  "proof": { ... }
}
        </pre>

        <p>
While bearer credentials can be privacy enhancing, their use must be carefully
crafted to not accidentally divulge more information than the holder of the
credential expects. For example, repeated use of the same bearer credential
across sites enables each site to potentially collude to unduly track or
correlate the holder. Additionally, information that may seem non-identifying
such as a birthdate and zip code can be used to statistically identify an
individual when used together in the same credential or session.
        </p>

        <p>
<a>Issuers</a> of bearer credentials SHOULD ensure that bearer credentials that
are expected to provide privacy-enhancing benefits 1) are single use, when
possible, 2) do not contain personally identifying information, and 3) are not
unduly correlatable.
        </p>

        <p>
<a>Holders</a> SHOULD be warned by their software if bearer credentials
containing sensitive information are issued or requested, or if there is a
correlation risk when combining two or more bearer credentials across one
or more sessions. While it may be impossible to detect all correlation risks,
some may be detectable.
        </p>

        <p>
<a>Verifiers</a> SHOULD NOT request bearer credentials that can be used to
unduly correlate the user.
        </p>
      </section>

      <section>
        <h3>Validity Checks</h3>

        <p>
When processing verifiable credentials, <a>verifiers</a> typically perform
many of the checks listed in Section <a href="#verification"></a> as well as
a variety of business-process-specific checks. For example, validity checks
may include any of the following:
        </p>

        <ul>
          <li>
Checking the professional licensure status of the holder.
          </li>
          <li>
Checking a date of license renewal or revocation.
          </li>
          <li>
Checking sub-qualifications of an individual.
          </li>
          <li>
Ensuring that a relationship exists between the holder and the entity
with whom the holder is attempting to interact.
          </li>
          <li>
Checking the geolocation information associated with the holder.
          </li>
        </ul>

        <p>
The process of performing these checks may result in information leakage that
leads to a privacy violation of the holder. For example, an operation as
simple as checking a revocation list can notify the issuer that a very specific
business is most likely interacting with the holder. This would enable
issuers to collude and correlate individuals without their knowledge.
        </p>

        <p>
<a>Issuers</a> are urged to not use mechanisms, such as credential revocation
lists that are unique per credential, during the verification process that
would lead to privacy violations. Organizations providing software to
<a>holders</a> should warn when credentials include information that could
lead to privacy violations during the verification process. <a>Verifiers</a>
should consider rejecting credentials that produce privacy violations or that
enable bad privacy practices.
        </p>
      </section>

      <section>
        <h3>Storage Providers and Data Mining</h3>

        <p>
When a holder receives a credential from an issuer, the
credential will need to be stored somewhere (e.g., in a credential repository).
Holders are warned that the information in a verifiable credential may be
sensitive in nature and highly individualized, making it a high value
target for data mining. Therefore, there may be services
that store verifiable credentials for free and mine personal data and sell it
to organizations that desire individualized profiles on people and
organizations (i.e., if the service is free, you are the product).
        </p>
        <p>
It is suggested that holders be aware of the terms of service for their
credential repository, specifically the correlation and data mining
protections that are in place for those who store their verifiable credentials
at the service provider.
        </p>
        <p>
There are a number of effective mitigations for data mining and profiling:
        </p>

        <ul>
          <li>
Use service providers that do not sell your information to third parties.
          </li>
          <li>
Use software that encrypts verifiable credentials such that a service provider
cannot view the contents of the credential.
          </li>
          <li>
Use software that stores verifiable credentials locally on a device that you
control and that does not upload or analyze your information beyond
your expectations.
          </li>
        </ul>
      </section>

      <section>
        <h3>Aggregation of Credentials</h3>

        <p>
Two pieces of information about the same <a>subject</a> almost always reveal
more information than just a single piece of information, even when delivered
through different channels. The aggregation of credentials is a privacy risk and
all participants in the ecosystem need to be aware of the risks of data
aggregation.
        </p>

        <p>
For example, if a bearer credential for an email address and then a bearer
credential
stating that the holder is over the age of 21 are provided across multiple
sessions, the verifier of the information has 1) a unique identifier to
associate with the individual, and 2) age-related information for that
individual. It then becomes trivial to
create a profile for the holder such that more and more information is leaked
over time. Aggregation of credentials can be performed across multiple sites that
are colluding as well, leading to privacy violations.
        </p>

        <p>
Preventing the aggregation of information is a very difficult privacy problem
to address from a technological perspective. While new cryptographic techniques,
such as zero-knowledge proofs, have been proposed as solutions to the problem
of aggregation and correlation, the existence of long-lived identifiers
and browser tracking techniques easily defeat even the most modern
cryptographic techniques.
        </p>

        <p>
The solution to the privacy implications of correlation or aggregation tend
to not be technological in nature, but policy driven instead. Therefore, if
a holder does not wish information to be aggregated about them, then they
must express this in the <a>verifiable presentations</a> that they transmit.
        </p>

      </section>

      <section>
        <h3>Usage Patterns</h3>

        <p>
Despite the best efforts to assure privacy, the actual use of verifiable
credentials can potentially lead to de-anonymization and a loss of privacy.
This correlation can occur:
        </p>

        <ol>
          <li>
When the same credential is presented to the same verifier more than once &mdash; that
verifier could infer that the holder is the same individual.
          </li>
          <li>
When the same credential is presented to different verifiers, and either those
verifiers collude or a third party has access to transaction records from
both verifiers &mdash; the observant party could infer that the individual
presenting the credential is the same person at both services, i.e., the
accounts are controlled by the same person.
          </li>
          <li>
When the same subject identifier of a credential refers to the same subject across presentations or
verifiers, then loss of privacy is possible. Even when different credentials are presented, if the
subject identifier is the same, verifiers (and those with access to verifier logs) could infer that
the holder of the credential is the same person.
          </li>
          <li>
When the underlying information in a credential can be used to identify an
individual across services &mdash; using information from other sources
(including information provided directly by the user), verifiers can use
the information inside the credential to correlate the individual with an
existing profile. For example, if a holder presents credentials that include
zip code, age, and sex, the verifier can potentially correlate the
subject of that credential with an established profile [see Sweeney 2000
<a href="http://dataprivacylab.org/projects/identifiability/paper1.pdf">Simple Demographics Often Identify People Uniquely</a>].
          </li>
          <li>
When passing the identifier of a credential to a centralized revocation server &mdash; the
centralized server can correlate the credential usage across interactions.
For example, if a verifiable credential is used for proof of age in this manner,
the centralized service could know everywhere that credential was presented: all
liquor stores, bars, adult stores, lottery purchases, etc.
          </li>
        </ol>

        <p>
It’s possible to mitigate this in part:
        </p>

        <ol>
          <li>
Use a globally-unique identifier as the subject for any given credential and
never re-use that credential.
          </li>
          <li>
If the credential supports revocation, use a globally-distributed service for
revocation.
          </li>
          <li>
Design revocation APIs that do not depend on submitting the ID
of the credential, e.g., use a revocation list rather than a query.
          </li>
          <li>
Avoid associating personally identifiable information with any particular
long-lived subject identifier.
          </li>
        </ol>

        <p>
It is understood that these mitigation techniques are not always practical
or even compatible with necessary usage. Sometimes correlation is the point.
        </p>
        <p>
In state prescription monitoring programs, usage monitoring is a
requirement: enforcement entities need to be able to confirm that
individuals are not cheating the system to get multiple prescriptions
for controlled substances. This statutory or regulatory need to correlate
usage overrides individual privacy concerns.
        </p>

        <p>
Verifiable credentials will so be used to intentionally correlate individuals
across services, for example, when using a common persona to log in to
multiple services, so all activity on each of those services is
intentionally linked to the same individual. This is not a privacy issue
as long as each of those services uses the correlation in the expected
manner.
        </p>

        <p>
Privacy risks of credential usage occur when unintended or unexpected
correlation arises from the presentation of verifiable credentials.
        </p>
      </section>

      <section>
        <h3>Sharing Information with the Wrong Party</h3>

        <p>
When a <a>holder</a> chooses to share information with a <a>verifier</a>, it
may be the case that the verifier is acting in bad faith and requests
information that could be used to harm the holder. For example, a
verifier may ask for a bank account number, which could then be used in
concert with other information to defraud the holder or the bank.
        </p>

        <p>
<a>Issuers</a> should strive to tokenize as much information as possible such
that if a holder accidentally transmits credentials to the wrong
verifier that the information loss isn't catastrophic.
        </p>

        <p>
For example, instead of including a bank account number
for the purposes of checking a bank balance for an individual, provide a
token that enables the verifier to use the token to check to see if the
balance is above a certain amount. In this case, the bank could
issue a verifiable credential containing a token for checking balance
to a holder. A holder would then include the verifiable credential in a
verifiable presentation and bind the token to a credit checking agency via a digital
signature. The verifier would then wrap the verifiable presentation in their digital
signature, and hand it back to the issuer to dynamically check the account
balance.
        </p>

        <p>
This approach ensures that even if the holder shares the account balance token
with the wrong party that the attacker doesn't discover the bank account
number, nor the exact value in the account, and given the validity period for
the counter-signature, doesn't gain access to the token for more than a few
minutes.
        </p>
      </section>

      <section>
        <h3>Frequency of Claim Issuance</h3>

        <p>
As Section <a href="#usage-patterns"></a> details, usage patterns can be
correlated into certain types of behavior. Part of this correlation is
mitigated when a <a>holder</a> uses a verifiable credential without the
knowledge of the <a>issuer</a>. Issuers may defeat this protection by making
their credentials short lived and renewal automatic.
        </p>

        <p>
For example, an "over the age of 21" credential may be useful when gaining
access to a bar. If an issuer makes the credential have a very short expiration
date and an automatic renewal mechanism, then they could possibly correlate
the holder's behavior in a way that negatively impacts the holder.
        </p>

        <p>
Organizations providing software to holders should warn <a>holders</a> if they
repeatedly use credentials with short lifespans that could result in
behavior correlation. Issuers should avoid issuing credentials in a way that
enables them to correlate usage patterns.
        </p>

      </section>

      <section>
        <h3>Prefer Single-Use Credentials</h3>

        <p>
An ideal privacy-respecting system would only require information to be
disclosed by the holder that is necessary for the interaction with the verifier.
The verifier would then record that the disclosure requirement was met and
forget any sensitive information that was disclosed. In many cases,
competing priorities, such as regulatory burden, prevent this ideal system
from being employed.
In other cases, long-lived identifiers prevent single use.
The design of any verifiable credentials ecosystem, however, should strive to
be as privacy-respecting as possible by preferring single-use credentials
when possible.
        </p>

        <p>
The usage of these type of credentials provides several benefits. The first
benefit is to verifiers who can be sure that the data in the credential is
fresh. The second benefit is to holders, who know that if there are no long-lived
identifiers in the credential that the credential itself cannot be used
to track or correlate them online. Finally, the third benefit ensures that
there is nothing for attackers to steal, making the entire ecosystem safer
to operate within.
        </p>
      </section>
        <section>
            <h3>Avoid Disclosing Credential Identifier</h3>
            <p>
Disclosing the credential identifier leads to situations where multiple
verifiers or an issuer and a verifier can collude to correlate the holder.
If the holder desires to reduce correlation, they should use credential
schemes which allow hiding the identifier during presentation. Such schemes
expect the holder to generate the identifier and may even allow hiding the
identifier from the issuer, whilst still keeping the identifier embedded
and signed in the credential.
            </p>
        </section>
    </section>

    <section>
      <h2>Security Considerations</h2>

      <em>This section is non-normative.</em>

      <p>
There are a number of security considerations that <a>issuers</a>,
<a>holders</a>, and <a>verifiers</a> should be aware of when processing
data described by this specification. Ignoring or not understanding the
implications of this section can result in security vulnerabilities.
      </p>

      <p>
While this section attempts to highlight a broad set of security
considerations, it should not be interpreted as a complete list of all
security considerations. Implementers are urged to seek the advice of security
and cryptography professionals when implementing mission critical systems
using the technology outlined in this specification.
      </p>

      <section>
        <h3>Cryptography Suites and Libraries</h3>

        <p>
Some aspects of the data model described in this specification can be
protected through the use of cryptography.
Implementers should be aware of the underlying
cryptography suites and libraries that are used to implement the
creation and verification of digital signatures and mathematical proofs
utilized by their systems when processing <a>credentials</a> and
<a>presentations</a>. Software developers with extensive experience implementing
or auditing systems that use cryptography must be used to ensure that
systems are properly designed. Proper
<a href="https://en.wikipedia.org/wiki/Red_team">red teaming</a>
is also suggested to remove bias from security reviews.
        </p>

        <p>
Cryptography suites and libraries have a shelf life and eventually fall to
new attacks and technology advances. Any production quality system must take
this reality into account and ensure that mechanisms exist to easily upgrade
old or broken cryptographic suites and libraries in a proactive manner.
Mechanisms should also exist to invalidate and replace existing credentials
in the event of a cryptography suite or library failure.
Regular monitoring of systems to ensure proper upgrades are made in a timely
manner are also important to ensure the long term viability of systems
processing verifiable credentials.
        </p>

      </section>

      <section>
        <h3>Unsigned Claims</h3>

        <p>
This specification allows <a>credentials</a> to be produced that do not
contain signatures or proofs of any kind. These types of credentials are often
useful for intermediate storage, or self-asserted information, which is
analogous to filling out a form on a web page. Implementers should note that
these types of credentials are not verifiable because the authorship
is either not known or cannot be trusted.
        </p>
      </section>

      <section>
        <h2>Token Binding</h2>
        <p>
A <a>verifier</a> may need to ensure that it is the intended recipient
of a <a>verifiable presentation</a> and is not the target of a
<a href="https://en.wikipedia.org/wiki/Man-in-the-middle_attack">
man-in-the-middle attack</a>. Any protocol that utilizes the
Verifiable Credentials Data Model and requires protection against these
sorts of attacks needs to perform some sort of token binding, such
as using <a href="https://tools.ietf.org/html/draft-ietf-tokbind-protocol-18">
The Token Binding Protocol v1.0</a>, that ties
the request for a <a>verifiable presentation</a> with the response. Any
protocol that does not perform token binding is susceptible to
man-in-the-middle attacks.
        </p>

      </section>

      <section>
        <h3>Bundling Dependent Claims</h3>
        <p>
It is considered a best practice for issuers to atomize information in a
credential, or use a signature scheme that allows for selective disclosure.
In the former case, if the atomization is not done securely by the issuer,
the holder might bundle together different credentials in a way that was not
intended by the issuer.
        </p>
        <p>
For example a university might issue two credentials to a person, each
containing two properties, i.e., "Staff Member" in the
"Department of Computing" and "Post Graduate Student" in the
"Department of Economics". If these credentials are atomized into separate
properties, then the university would issue four credentials to the person,
each containing one of the following properties:
"Staff Member", "Post Graduate Student", "Department of Computing", and
"Department of Economics". The holder could then transfer
the "Staff Member" and "Department of Economics" to a verifier,
which together would comprise a false claim.
        </p>

      </section>

      <section>
        <h3>Highly Dynamic Information</h3>

        <p>
When verifiable <a>credentials</a> are issued for highly dynamic information,
implementers should ensure that the expiration times for the credential are
set appropriately. Expiration periods that are longer than the timeframe
where the credential is valid may create exploitable security vulnerabilities.
Expiration periods that are shorter than the timeframe where the information
expressed by the credential is valid create a burden on <a>holders</a> and
<a>verifiers</a>. It is therefore important to set validity periods for
credentials that are appropriate to the use case and the expected lifetime
for the information contained in the credential.
        </p>

      </section>

      <section>
        <h3>Device Theft and Impersonation</h3>

        <p>
When <a>verifiable credentials</a> are stored on a device and that
device is stolen by an attacker, it may be possible for the attacker to then
gain access to systems using the victim's verifiable credentials. Mitigations
for this attack include:
        </p>

        <ul>
          <li>
Enabling password, pin, pattern, or biometric screen unlock protection.
          </li>
          <li>
Enabling password, biometric, or multi-factor authentication for the
credential repository.
          </li>
          <li>
Enabling password, biometric, or multi-factor authentication when
accessing cryptographic keys.
          </li>
          <li>
Utilizing a separate hardware-based signature device.
          </li>
          <li>
All or any combination of the above.
          </li>
        </ul>

    </section>
     
  </body>
</html>

